(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[64],{4512:function(e,t,s){"use strict";var n=s(9242),i=s(3396);const o={class:"u-total-center page"},a={class:"response u-column u-gap-3",ref:"response"};function r(e,t,s,n,r,l){const c=(0,i.up)("Message"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.messages,((e,t)=>((0,i.wg)(),(0,i.j4)(c,{key:t,message:e},null,8,["message"])))),128))],512),(0,i.Wm)(d,{onMessage:t[0]||(t[0]=e=>l.message(e)),onRemoveMessage:t[1]||(t[1]=e=>l.removeMessage(e))})])}var l,c,d,u=s(7139);function p(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)(["message u-total-center",a.mountResponseClasses()])},(0,u.zw)(s.message.content),3)}(function(e){e[e["ERROR"]=0]="ERROR",e[e["SUCCESS"]=1]="SUCCESS",e[e["WARNING"]=2]="WARNING"})(l||(l={})),function(e){e["ENTER"]="Enter"}(c||(c={})),function(e){e["ARGO"]="Argo",e["JASON"]="Jason",e["COMMUNICATOR"]="Communicator"}(d||(d={}));var g={name:"Message",props:{message:Object},methods:{mountResponseClasses(){let e;return e=this.message.type===l.ERROR?"is-error":this.message.type===l.SUCCESS?"is-success":this.message.type===l.WARNING?"is-warning":"is-normal",e}},mounted(){setTimeout((()=>{this.$el.remove()}),this.message.timeout)}},m=s(89);const h=(0,m.Z)(g,[["render",p],["__scopeId","data-v-31067415"]]);var _=h,w={name:"App",components:{Message:_},data(){return{messages:[]}},methods:{message(e){if(this.messages.length>=6)return void this.messages.splice(5,1);null==e.timeout&&(e.timeout=2e3);let t=!1,s=0;this.messages.forEach(((n,i)=>{if(n.content===e.content)return s=i,void(t=!0)})),t?(this.messages.splice(s,1),setTimeout((()=>{this.messages.push(e)}),1)):this.messages.push(e)},removeMessage(e){this.messages.forEach(((t,s)=>{t.content===e&&this.messages.splice(s,1)}))}}};const v=(0,m.Z)(w,[["render",r]]);var f=v,k=s(2482),y=s(2483);const C=e=>((0,i.dD)("data-v-235bae2d"),e=e(),(0,i.Cn)(),e),S={class:"login u-column u-align-i-center u-justify-i-center u-gap-1"},b=C((()=>(0,i._)("h1",{class:"logo u-column u-align-i-center u-gap-2"},[(0,i._)("span",{class:"logo__systemname"},[(0,i._)("span",{class:"is-bold"},"chonIDE")])],-1))),O={class:"u-column u-gap-2 u-align-i-center"},R={class:"c-base-container login__form u-column u-gap-3"},N={class:"u-row u-gap-3 u-align-i-center u-justify-i-center"},E=C((()=>(0,i._)("span",{class:"is-aside"}," Usar host local ",-1))),I={key:0,class:"u-column u-gap-2 u-align-i-center"},D=(0,i.Uk)(" Por favor, aguarde... "),A={key:0},T={key:1,class:"u-column u-gap-3 u-align-i-center is-big"},x=(0,i.Uk)(" Seu novo link de acesso à chonide "),L=["href"];function $(e,t,s,o,a,r){const l=(0,i.up)("Trace"),c=(0,i.up)("RoundedButton"),d=(0,i.up)("Loading"),p=(0,i.up)("Popup");return(0,i.wg)(),(0,i.iD)("div",S,[b,(0,i._)("div",O,[(0,i._)("div",R,[(0,i.wy)((0,i._)("input",{type:"text",name:"user",placeholder:"Usuário",class:"login__input","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),autocomplete:"off"},null,512),[[n.nr,a.username]]),(0,i.Wm)(l),(0,i.wy)((0,i._)("input",{type:"password",name:"password",placeholder:"Senha",class:"login__input","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),autocomplete:"off"},null,512),[[n.nr,a.password]]),a.useLocalHost?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(l,{key:0})),a.useLocalHost?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.currentHost=e),placeholder:"Hostname",class:"login__input"},null,512)),[[n.nr,a.currentHost]])]),(0,i.Wm)(c,{onClick:r.submit,"is-loading":a.loading},null,8,["onClick","is-loading"])]),(0,i._)("div",N,[E,(0,i.wy)((0,i._)("input",{type:"checkbox",class:"login__check-box","onUpdate:modelValue":t[3]||(t[3]=e=>a.useLocalHost=e)},null,512),[[n.e8,a.useLocalHost]])]),(0,i.Wm)(p,{title:"Conectando à rede","can-close":!1,ref:"conecting"},{content:(0,i.w5)((()=>[0!=a.awaitConnectionCounter?((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("span",null,[D,null!=a.currentDomain?((0,i.wg)(),(0,i.iD)("span",A,(0,u.zw)(a.awaitConnectionCounter),1)):(0,i.kq)("",!0)]),(0,i.Wm)(d)])):((0,i.wg)(),(0,i.iD)("div",T,[x,(0,i._)("a",{href:"https://"+a.currentDomain+":3270/chonide/login",target:"_blank",class:"login__new-link"},(0,u.zw)("https://"+a.currentDomain+":3270/chonide/login"),9,L)]))])),_:1},512)])}function U(e,t,s,n,o,a){const r=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)(["rounded-button-container","left"===s.direction?"is-left":"is-right"])},[(0,i._)("button",{class:(0,u.C_)(["rounded-button u-total-center",s.isLoading?"is-loading":""])},[s.isLoading?((0,i.wg)(),(0,i.j4)(r,{key:0,class:(0,u.C_)("rounded-button__loading")})):(0,i.kq)("",!0)],2)],2)}const j={class:"loading"};function W(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",j)}const F={name:"Loading",props:{mainColor:String,asideColor:String,ratio:String,borderWidth:String},data(){return{asideColorStyle:null==this.asideColor?"var(--pallete-color-black-3)":this.asideColor,mainColorStyle:null==this.mainColor?"var(--pallete-color-main-2)":this.mainColor,ratioStyle:null==this.ratio?"30px":this.ratio+"px",borderWidthStyle:null==this.borderWidth?"4px":this.borderWidth+"px"}}},M=()=>{(0,n.sj)((e=>({"5125fcda":e.borderWidthStyle,"5392cb03":e.asideColorStyle,"3a625f6a":e.mainColorStyle,f65b1aae:e.ratioStyle})))},P=F.setup;F.setup=P?(e,t)=>(M(),P(e,t)):M;var q=F;const B=(0,m.Z)(q,[["render",W],["__scopeId","data-v-ed8205a0"]]);var Z=B,z={name:"RoundedButton",components:{Loading:Z},props:{direction:String,isLoading:Boolean},mounted(){this.$el.parentElement.style.position="relative"}};const H=(0,m.Z)(z,[["render",U],["__scopeId","data-v-3959b114"]]);var K=H;class G{static setTitle(e){document.title=e+this.TITLE_SUFFIX}static removeInvalidCharacters(e){return e.replace(/[^a-zA-Z0-9]/g,"")}}function V(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)(["trace",["entire"===s.state?"is-entire":"","vertical"==s.type?"is-vertical":""]])},null,2)}(0,k.Z)(G,"TITLE_SUFFIX"," - chonide");var Y={name:"Trace",props:{state:String,type:String}};const J=(0,m.Z)(Y,[["render",V]]);var Q=J;const X={style:{display:"none"},class:"pop-up-background u-total-center"},ee={class:"c-base-container pop-up u-column u-gap-2"},te={class:"u-row u-align-i-center u-justify-i-between"},se={class:"pop-up__title"},ne={class:"u-row u-gap-3 u-justify-i-end"};function ie(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",ee,[(0,i._)("div",te,[(0,i._)("span",se,(0,u.zw)(s.title),1),s.canClose?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"pop-up__close-action",onClick:t[0]||(t[0]=(...e)=>a.close&&a.close(...e))})):(0,i.kq)("",!0)]),(0,i.WI)(e.$slots,"content",{},void 0,!0),(0,i._)("div",ne,[(0,i.WI)(e.$slots,"action",{},void 0,!0)])])])}var oe={name:"Popup",props:{title:String,type:String,for:String,canClose:{type:Boolean,default:!0}},data(){return{triggerElement:null}},methods:{close(){this.showing(!1),null!=this.triggerElement&&null!=this.for&&this.triggerElement.appendChild(this.$el)},showing(e){e?this.$el.removeAttribute("style"):this.$el.style.display="none"}},mounted(){this.triggerElement=document.querySelector(`.${this.for}`),null!=this.triggerElement&&(this.triggerElement.appendChild(this.$el),this.triggerElement.onclick=()=>{this.showing(!0),document.body.appendChild(this.$el)})}};const ae=(0,m.Z)(oe,[["render",ie],["__scopeId","data-v-32a8e35d"]]);var re=ae,le=s(6265),ce=s.n(le),de=s(6236);ce().defaults.headers.post["Access-Control-Allow-Origin"]="*",ce().defaults.headers.put["Access-Control-Allow-Origin"]="*",ce().defaults.headers["delete"]["Access-Control-Allow-Origin"]="*",ce().defaults.headers.get["Access-Control-Allow-Origin"]="*";class ue{static auth(e,t,s){return ce().post(he.AUTH,{},{params:{username:e,password:t,host:s}}).then((e=>(200==e.status&&(ce().defaults.headers.common.Authorization="Bearer "+e.data.data,localStorage.setItem(de.V.v5("token",ue.NAMESPACE),e.data.data)),e)))}static loadToken(){const e=localStorage.getItem(de.V.v5("token",ue.NAMESPACE));ce().defaults.headers.common.Authorization="Bearer "+e}static get(e,t=!0){const s=de.V.v5(e,ue.NAMESPACE),n=localStorage.getItem(s);if(null!=n&&!t){const e={data:{data:{}}};return e.data.data=JSON.parse(n),Promise.resolve(e)}return this.validate(ce().get(e)).then((e=>{if(e.status>=200&&e.status<300){try{e.data.data=JSON.parse(e.data.data)}catch(t){}localStorage.setItem(s,JSON.stringify(e.data.data))}return e}))}static post(e,t={},s={}){return this.validate(ce().post(e,s,t))}static put(e,t={},s={}){return this.validate(ce().put(e,s,t))}static delete(e){return this.validate(ce()["delete"](e))}static validate(e){return e.catch((e=>{401==e.response.status&&Ln.push(An.LOGIN)}))}}(0,k.Z)(ue,"NAMESPACE","65f9af5d-f23f-4065-ac85-da725569fdcd");const pe="https://labredes.bot.chon.group:3270/chonide",ge="/api",me=pe+ge;class he{}(0,k.Z)(he,"AUTH",pe+"/auth"),(0,k.Z)(he,"PROJECTS",me+"/projects"),(0,k.Z)(he,"DOMAINS",me+"/domains"),(0,k.Z)(he,"USERS",me+"/users"),(0,k.Z)(he,"USERS_FIRST_ACCESS",me+"/users/first-access"),(0,k.Z)(he,"BOARDS",me+"/boards"),(0,k.Z)(he,"LIBRARIES",me+"/libraries"),(0,k.Z)(he,"LIBRARIES_IMPORT",me+"/libraries/import"),(0,k.Z)(he,"SYSTEM_REBOOT",me+"/system/reboot"),(0,k.Z)(he,"SYSTEM_POWEROFF",me+"/system/poweroff"),(0,k.Z)(he,"MAS_STOP",me+"/mas/stop"),(0,k.Z)(he,"MAS_START",me+"/mas/start"),(0,k.Z)(he,"SKETCH_DEPLOY",me+"/sketchs/deploy"),(0,k.Z)(he,"SKETCH_COMPILE",me+"/sketchs/compile"),(0,k.Z)(he,"NETWORKS",me+"/networks"),(0,k.Z)(he,"NETWORKS_STATUS",me+"/networks/status"),(0,k.Z)(he,"NETWORKS_AP",me+"/networks/ap"),(0,k.Z)(he,"NETWORKS_CLIENT",me+"/networks/client");class _e{}(0,k.Z)(_e,"MULTIPART_CONFIG",{headers:{"Content-Type":"multipart/form-data"}});var we={name:"Login",components:{Loading:Z,Popup:re,Trace:Q,RoundedButton:K},data(){return{username:"",password:"",loading:!1,keyPressListener:null,awaitConnection:"false",awaitConnectionCounter:5,currentDomain:null,useLocalHost:!0,currentHost:""}},setup(){G.setTitle("Entrar"),ue.loadToken()},beforeUnmount(){document.removeEventListener("keypress",this.keyPressListener)},mounted(){this.awaitConnection=localStorage.getItem("connecting"),"true"===this.awaitConnection&&(this.$refs.conecting.showing(!0),ue.get(he.DOMAINS).then((e=>{this.currentDomain=e.data.data.domain,ue["delete"](he.USERS);let t=setInterval((()=>{this.awaitConnectionCounter--,0==this.awaitConnectionCounter&&(localStorage.setItem("connecting","false"),clearInterval(t))}),1e3)}))),this.keyPressListener=e=>{13===e.which&&this.submit()},document.addEventListener("keypress",this.keyPressListener)},methods:{submit(){0!==this.username.length&&0!==this.password.length?(this.loading=!0,ue.auth(this.username,this.password,this.currentHost).then((e=>{200==e.status?ue.get(he.USERS_FIRST_ACCESS).then((e=>{1==e.data.data?Ln.push(An.DOMAIN):Ln.push(An.CODER)})):(this.loading=!1,this.$emit("message",{content:"Não foi possível conectar ao sistema",type:l.ERROR}))}))):this.$emit("message",{content:"O usuário e/ou a senha não podem ser vazios",type:l.ERROR})}}};const ve=(0,m.Z)(we,[["render",$],["__scopeId","data-v-235bae2d"]]);var fe=ve,ke=s(8029),ye=s(6054),Ce=s(8213),Se=s(3516),be=s(2129);const Oe=e=>((0,i.dD)("data-v-2a3cfa1e"),e=e(),(0,i.Cn)(),e),Re={class:"u-column u-align-i-center u-gap-2"},Ne=Oe((()=>(0,i._)("h2",{class:"connect__message"},"Conecte à uma rede wifi para acesso à internet",-1))),Ee={class:"u-row u-gap-3 u-justify-i-center"},Ie={class:"u-column u-gap-3"},De={class:"u-row u-gap-2 u-align-i-center"},Ae=(0,i.Uk)(" Criar rede "),Te={class:"u-column u-gap-3"},xe={class:"u-row u-gap-2 u-align-i-center"},Le=(0,i.Uk)(" Conectar à rede "),$e=(0,i.Uk)(" Conectar manualmente "),Ue=(0,i.Uk)(" Criar rede própria (AP) "),je=(0,i.Uk)(" Atualizar "),We={key:1,class:"is-aside is-big"},Fe={key:2,class:"networks u-column u-align-i-center u-gap-3"},Me={key:0,class:"is-aside is-big"},Pe={class:"u-row u-gap-2 u-align-i-center"},qe={style:{position:"relative"}},Be={key:0,class:"network__quality-indicator",src:ke},Ze={key:1,class:"network__quality-indicator",src:ye},ze={key:2,class:"network__quality-indicator",src:Ce},He={key:3,class:"network__quality-indicator",src:Se},Ke={key:4,class:"network__lock",src:be},Ge={class:"network__essid"},Ve={key:0,class:"network__connected is-bold"},Ye={class:"u-column u-gap-3"},Je={class:"u-row u-gap-2 u-align-i-center"},Qe=(0,i.Uk)(" Conectar à rede "),Xe=(0,i.Uk)(" Voltar para codador ");function et(e,t,s,o,a,r){const l=(0,i.up)("Input"),c=(0,i.up)("Button"),d=(0,i.up)("Popup"),p=(0,i.up)("Loading"),g=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Re,[Ne,(0,i._)("div",Ee,[(0,i.Wm)(d,{title:"Levantar uma rede própria AP",for:"network-customized",ref:"customized-network-pop-up"},{content:(0,i.w5)((()=>[(0,i._)("div",Ie,[(0,i.Wm)(l,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"customized-network-essid-input"},null,512),(0,i.Wm)(l,{placeholder:"Senha da rede (Mínimo 8 caracteres)",type:"password",name:"password",ref:"customized-network-password-input"},null,512)])])),action:(0,i.w5)((()=>[(0,i._)("div",De,[(0,i.Wm)(c,{onClick:r.createNetwork,"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[Ae])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,i.Wm)(d,{title:"Conectar manualmente",for:"network-manual",ref:"manual-network-pop-up"},{content:(0,i.w5)((()=>[(0,i._)("div",Te,[(0,i.Wm)(l,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"manual-network-essid-input"},null,512),(0,i.Wm)(l,{placeholder:"Senha da rede",type:"password",name:"password",ref:"manual-network-password-input"},null,512)])])),action:(0,i.w5)((()=>[(0,i._)("div",xe,[(0,i.Wm)(c,{onClick:r.connectManualNetwork,"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[Le])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,i.Wm)(c,{class:"network-manual",transparent:""},{content:(0,i.w5)((()=>[$e])),_:1}),(0,i.Wm)(c,{class:"network-customized",transparent:""},{content:(0,i.w5)((()=>[Ue])),_:1}),(0,i.Wm)(c,{onClick:r.getNetworks,icon:"refresh.svg","icon-ratio":"15.5"},{content:(0,i.w5)((()=>[je])),_:1},8,["onClick"])]),a.isSearching?((0,i.wg)(),(0,i.j4)(p,{key:0})):(0,i.kq)("",!0),null==a.networks?((0,i.wg)(),(0,i.iD)("span",We," Procurando redes disponíveis... ")):((0,i.wg)(),(0,i.iD)("div",Fe,[0===a.networks.length?((0,i.wg)(),(0,i.iD)("span",Me," Não foram encontradas redes disponíveis ")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.networks,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)(["c-base-container network u-row u-justify-i-between u-align-i-center","network-"+s]),key:s,onClick:t[0]||(t[0]=e=>a.networkPopUpIsOpen=!0)},[(0,i._)("div",Pe,[(0,i._)("div",qe,[e.quality<15?((0,i.wg)(),(0,i.iD)("img",Be)):e.quality<30?((0,i.wg)(),(0,i.iD)("img",Ze)):e.quality<65?((0,i.wg)(),(0,i.iD)("img",ze)):((0,i.wg)(),(0,i.iD)("img",He)),!0===e.encryption&&null===e.password?((0,i.wg)(),(0,i.iD)("img",Ke)):(0,i.kq)("",!0)]),(0,i._)("span",Ge,(0,u.zw)(e.essid),1)]),a.connectedNetwork.essid==e.essid&&a.connectedNetwork.frequency==e.frequency?((0,i.wg)(),(0,i.iD)("span",Ve," Conectado ")):(0,i.kq)("",!0),(0,i.Wm)(d,{title:"Conectar-se à rede",for:"network-"+s,ref_for:!0,ref:"network"},{content:(0,i.w5)((()=>[(0,i._)("div",Ye,[(0,i.Wm)(l,{type:"text",readonly:"true","model-value":e.essid,name:"essid"},null,8,["model-value"]),(0,i.wy)((0,i.Wm)(l,{"model-value":e.password,placeholder:"Senha da rede",type:"password",name:"password"},null,8,["model-value"]),[[n.F8,!0===e.encryption]])])])),action:(0,i.w5)((()=>[(0,i._)("div",Je,[(0,i.Wm)(c,{onClick:e=>r.connectNetwork(s),"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[Qe])),_:2},1032,["onClick","is-loading"])])])),_:2},1032,["for"])],2)))),128))])),a.isFirstAccess?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(g,{key:3,to:"/coder"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{transparent:""},{content:(0,i.w5)((()=>[Xe])),_:1})])),_:1}))])}const tt=e=>((0,i.dD)("data-v-889222a6"),e=e(),(0,i.Cn)(),e),st=["href","target"],nt=tt((()=>(0,i._)("div",{class:"button-background"},null,-1))),it=["src"],ot={key:2},at=tt((()=>(0,i._)("div",{class:"button-background"},null,-1))),rt=["src"],lt={key:2};function ct(e,t,n,o,a,r){const l=(0,i.up)("Loading");return null!=n.link?((0,i.wg)(),(0,i.iD)("a",{key:0,href:null!=n.link?n.link:"",target:null!=n.link?"_blank":"",class:(0,u.C_)(["button",[r.skinClasses,"u-row u-align-i-center u-justify-i-center"]])},[nt,n.isLoading?((0,i.wg)(),(0,i.j4)(l,{key:0,ratio:"14","border-width":"1","aside-color":"rgba(255,255,255,0.2)","main-color":"white"})):null!=n.icon?((0,i.wg)(),(0,i.iD)("img",{key:1,src:s(4325)(`./${n.icon}`),class:"button__icon"},null,8,it)):(0,i.kq)("",!0),null!=e.$slots.content?((0,i.wg)(),(0,i.iD)("span",ot,[(0,i.WI)(e.$slots,"content",{},void 0,!0)])):(0,i.kq)("",!0)],10,st)):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:(0,u.C_)(["button",[r.skinClasses,"u-row u-align-i-center u-justify-i-center"]])},[at,n.isLoading?((0,i.wg)(),(0,i.j4)(l,{key:0,ratio:"14","border-width":"1","aside-color":"rgba(255,255,255,0.2)","main-color":"white"})):null!=n.icon?((0,i.wg)(),(0,i.iD)("img",{key:1,src:s(4325)(`./${n.icon}`),class:"button__icon"},null,8,rt)):(0,i.kq)("",!0),null!=e.$slots.content?((0,i.wg)(),(0,i.iD)("span",lt,[(0,i.WI)(e.$slots,"content",{},void 0,!0)])):(0,i.kq)("",!0)],2))}const dt={name:"Button",components:{Loading:Z},props:{transparent:String,navigation:String,icon:String,iconRatio:String,color:String,rounded:String,noBorder:String,isLoading:Boolean,adjust:String,sidePadding:String,link:String},computed:{iconRatioStyle(){return null!=this.iconRatio?this.iconRatio+"px":"15px"},skinClasses(){let e;return e=null!=this.transparent?"is-transparent":null!=this.navigation?"is-navigation":"is-filled",null!=this.adjust&&(e+=" is-adjust"),null!=this.sidePadding&&(e+=" side-padding"),null!=this.icon&&(null!=this.$slots.content?e+=" has-icon":e+=" is-icon"),null!=this.border?e+=" is-rounded":null!=this.noBorder&&(e+=" has-not-border"),e},colorStyle(){return null==this.color?"var(--pallete-color-main-1)":this.color},sidePaddingStyle(){return null==this.sidePadding?"initial":this.sidePadding+"px"}}},ut=()=>{(0,n.sj)((e=>({"400710d2":e.colorStyle,"8d5ea6fa":e.iconRatioStyle,"4efa04db":e.sidePaddingStyle})))},pt=dt.setup;dt.setup=pt?(e,t)=>(ut(),pt(e,t)):ut;var gt=dt;const mt=(0,m.Z)(gt,[["render",ct],["__scopeId","data-v-889222a6"]]);var ht=mt;const _t=["readonly","value","type","name","placeholder"],wt={key:1,class:"input__file-label u-total-center"},vt=["name","accept"],ft={class:"input__file-label__fileName"};function kt(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,u.C_)(["u-row u-gap-3 input",["true"===s.readonly?"ready-only":"","file"===s.type?"is-file":""]])},["file"!==s.type?((0,i.wg)(),(0,i.iD)("input",{key:0,readonly:s.readonly,value:s.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),type:s.type,name:s.name,placeholder:s.placeholder,class:"u-width-cover",ref:"input",autocomplete:"off"},null,40,_t)):((0,i.wg)(),(0,i.iD)("label",wt,[(0,i._)("input",{type:"file",name:s.name,onChange:t[1]||(t[1]=e=>a.mountFileName(e)),ref:"input",accept:s.accept},null,40,vt),(0,i._)("span",ft,(0,u.zw)(o.fileName),1)]))],2)}var yt={name:"Input",props:{name:String,type:String,placeholder:String,readonly:String,modelValue:String,accept:String},data(){return{fileName:"Importar arquivo..."}},methods:{mountFileName(e){let t=e.target.value;0===t.length?this.fileName="Importar arquivo...":this.fileName=t.replace("C:\\fakepath\\","")}}};const Ct=(0,m.Z)(yt,[["render",kt],["__scopeId","data-v-7f8d722c"]]);var St=Ct,bt={name:"Connect",components:{Loading:Z,Input:St,Popup:re,Button:ht},data(){return{networks:null,connectResponse:null,isSearching:!0,networkPopUpIsOpen:!1,connectedNetwork:null,isConnecting:!1,isFirstAccess:!1}},mounted(){ue.get(he.USERS_FIRST_ACCESS).then((e=>{this.isFirstAccess=e.data.data})),ue.get(he.NETWORKS_STATUS).then((e=>{this.connectedNetwork=e.data.data})),this.getNetworks()},setup(){G.setTitle("Conectar"),ue.loadToken()},methods:{getNetworks(){this.isSearching=!0,ue.get(he.NETWORKS).then((e=>{this.networks=e.data.data,this.isSearching=!1}))},createNetwork(){let e=this.$refs["customized-network-essid-input"].$refs.input.value,t=this.$refs["customized-network-password-input"].$refs.input.value;t.length<8?this.$emit("message",{content:"A senha da rede precisa ser igual ou mais que 8 caracteres",type:l.ERROR}):(this.isConnecting=!0,ue.post(he.NETWORKS_AP,{params:{essid:e,password:t}}).then((()=>{this.isConnecting=!1,this.$refs["customized-network-pop-up"].close(),localStorage.setItem("connecting","true"),Ln.push(An.LOGIN)})))},connectNetwork(e){let t=this.$refs["network"][e].$el.querySelector("input[name='essid']").value,s=this.$refs["network"][e].$el.querySelector("input[name='password']").value;this.isConnecting=!0,ue.post(he.NETWORKS_CLIENT,{params:{essid:t,password:s}}).then((()=>{this.isConnecting=!1,this.$refs["network"][e].close(),localStorage.setItem("connecting","true"),Ln.push(An.LOGIN)}))},connectManualNetwork(){let e=this.$refs["manual-network-essid-input"].$refs.input.value,t=this.$refs["manual-network-password-input"].$refs.input.value;this.isConnecting=!0,ue.post(he.NETWORKS_CLIENT,{params:{essid:e,password:t}}).then((()=>{this.isConnecting=!1,this.$refs["manual-network-pop-up"].close(),localStorage.setItem("connecting","true"),Ln.push(An.LOGIN)}))}}};const Ot=(0,m.Z)(bt,[["render",et],["__scopeId","data-v-2a3cfa1e"]]);var Rt=Ot;const Nt=e=>((0,i.dD)("data-v-a25777be"),e=e(),(0,i.Cn)(),e),Et={class:"u-column u-gap-1 u-align-i-center"},It={class:"u-column u-gap-3 u-align-i-center"},Dt=Nt((()=>(0,i._)("h2",{class:"is-huge"},"Informe o nome do seu bot",-1))),At={class:"is-aside"},Tt=(0,i.Uk)(" Através desse nome, você será capaz de acessar a chonide via: "),xt={key:0,class:"is-bold"},Lt={class:"u-column u-align-i-center u-gap-2"},$t=(0,i.Uk)(" Salvar nome "),Ut=(0,i.Uk)(" Voltar para codador ");function jt(e,t,s,o,a,r){const l=(0,i.up)("Button"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Et,[(0,i._)("div",It,[Dt,(0,i._)("span",At,[Tt,""!==a.domain?((0,i.wg)(),(0,i.iD)("span",xt,(0,u.zw)(r.domainUrl),1)):(0,i.kq)("",!0)])]),(0,i._)("div",Lt,[(0,i.wy)((0,i._)("input",{type:"text",class:"c-base-container domain-input is-huge","onUpdate:modelValue":t[0]||(t[0]=e=>a.domain=e),placeholder:"Nome do bot",maxlength:"30"},null,512),[[n.nr,a.domain]]),(0,i.Wm)(l,{onClick:r.submit,isLoading:a.loading},{content:(0,i.w5)((()=>[$t])),_:1},8,["onClick","isLoading"])]),a.isFirstAccess?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,to:"/coder"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{transparent:""},{content:(0,i.w5)((()=>[Ut])),_:1})])),_:1}))])}var Wt={name:"Domain",components:{Button:ht},data(){return{domain:"",loading:!1,isFirstAccess:!1}},computed:{domainUrl(){return this.domain+".bot.chon.group:3270/chonide"}},watch:{domain(e){this.domain=e.replace(" ","").toLowerCase()}},setup(){G.setTitle("Nome do bot"),ue.loadToken()},mounted(){ue.get(he.USERS_FIRST_ACCESS).then((e=>{this.isFirstAccess=Boolean(e.data.data)}))},methods:{submit(){""!==this.domain&&0!==this.domain.length?(this.loading=!0,ue.post(he.DOMAINS,{params:{domain:this.domain}}).then((()=>{this.$emit("message",{content:"O nome do seu bot foi salvo com sucesso",type:l.SUCCESS}),Ln.push(An.CONNECT)}))):this.$emit("message",{content:"O nome não pode ser vazio",type:l.ERROR})}}};const Ft=(0,m.Z)(Wt,[["render",jt],["__scopeId","data-v-a25777be"]]);var Mt=Ft,Pt=s(5066),qt=s(7436);const Bt=e=>((0,i.dD)("data-v-76260f34"),e=e(),(0,i.Cn)(),e),Zt={class:"coder u-column"},zt={class:"coder__compiled-response"},Ht={class:"coder__header u-row u-justify-i-between u-align-i-center"},Kt={class:"u-row u-align-i-center u-height-cover u-gap-3"},Gt=Bt((()=>(0,i._)("h2",{class:"coder__header__logo u-row"},"chonIDE",-1))),Vt={class:"u-row u-height-cover"},Yt=(0,i.Uk)(" Redes "),Jt=(0,i.Uk)(" Nome do bot "),Qt={class:"u-row u-height-cover"},Xt=(0,i.Uk)(" Mind Inspector "),es=(0,i.Uk)(" Logs do SMA "),ts=(0,i.Uk)(" Iniciar SMA "),ss=(0,i.Uk)(" Parar SMA "),ns={class:"u-row"},is={class:"coder__explorer u-column"},os={class:"coder__header-bar coder__explorer__project-name u-row"},as={class:"coder__project-status is-aside"},rs={key:0,class:"u-row u-gap-3"},ls=(0,i.Uk)(" Salvando projeto "),cs={key:1,class:"u-row u-gap-3"},ds=Bt((()=>(0,i._)("img",{src:Pt,style:{width:"13px"}},null,-1))),us=(0,i.Uk)(" Projeto salvo "),ps=[ds,us],gs={class:"coder__explorer__main"},ms=(0,i.Uk)(" Sistema multiagente "),hs={class:"u-column"},_s={class:"coder__explorer__item second-level u-row u-align-i-center"},ws=Bt((()=>(0,i._)("span",null,"Agentes",-1))),vs=["onClick"],fs=Bt((()=>(0,i._)("span",{class:"coder__explorer__item__icon"},"Ag",-1))),ks=["onUpdate:modelValue"],ys=["value","selected"],Cs=["onUpdate:modelValue"],Ss=["onClick"],bs=Bt((()=>(0,i._)("hr",null,null,-1))),Os={class:"severe agent-delete-button"},Rs=(0,i.Uk)(" Excluir "),Ns=(0,i.Uk)(" Você tem certeza que deseja deletar esse arquivo? Não será possível recupera-lo. "),Es=(0,i.Uk)(" Cancelar "),Is=(0,i.Uk)(" Sim, deletar arquivo. "),Ds={class:"coder__explorer__item first-level u-row u-align-i-center"},As=Bt((()=>(0,i._)("span",null,"Firmwares",-1))),Ts=["onClick"],xs=Bt((()=>(0,i._)("span",{class:"coder__explorer__item__icon"},"C++",-1))),Ls={class:"coder__explorer__item__name"},$s=["onClick"],Us=Bt((()=>(0,i._)("hr",null,null,-1))),js=["onClick"],Ws={class:"coder__explorer__libraries"},Fs={class:"coder__header-bar u-row u-justify-i-between"},Ms=Bt((()=>(0,i._)("span",{class:"coder__header-bar__title"}," Bibliotecas ",-1))),Ps={class:"u-row u-width-fit u-height-cover"},qs=Bt((()=>(0,i._)("label",{type:"file",class:"coder__action is-add",for:"add-library"},null,-1))),Bs={key:0,class:"u-total-center u-height-cover u-width-cover"},Zs={class:"coder__coding u-column"},zs={class:"coder__coding__controller u-row u-justify-i-between"},Hs={type:"text",class:"coder__coding__file-name"},Ks={class:"u-row"},Gs=(0,i.Uk)(" Compilar "),Vs=(0,i.Uk)(" Deploy "),Ys={class:"coder__writer u-row"},Js={class:"coder__writer__lines u-column",ref:"coderLines"},Qs=["readonly"],Xs={key:1,class:"coder__writer__text",ref:"coder",readonly:""},en={key:0,class:"coder__boards u-column"},tn={class:"coder__header-bar u-row u-justify-i-between"},sn=Bt((()=>(0,i._)("span",{class:"coder__header-bar__title"},"Placas disponíveis",-1))),nn={key:0,class:"u-total-center u-height-cover u-width-cover"},on={key:1,class:"u-total-center u-height-cover u-width-cover"},an=Bt((()=>(0,i._)("span",{class:"is-aside"},"Não foram encontradas placas disponíveis",-1))),rn=[an],ln=["onClick"],cn={class:"u-row u-justify-i-between"},dn={class:"u-column"},un={class:"is-aside"},pn={class:"is-aside"};function gn(e,t,s,o,a,r){const l=(0,i.up)("Popup"),c=(0,i.up)("Button"),d=(0,i.up)("router-link"),p=(0,i.up)("Loading"),g=(0,i.up)("Toggle");return(0,i.wg)(),(0,i.iD)("div",Zt,[(0,i.Wm)(l,{title:"Resposta da placa",ref:"boardResponse"},{content:(0,i.w5)((()=>[(0,i._)("div",zt,(0,u.zw)(a.boardResponse),1)])),_:1},512),(0,i._)("div",Ht,[(0,i._)("div",Kt,[Gt,(0,i._)("div",Vt,[(0,i.Wm)(d,{to:"/connect",class:"u-height-cover"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",icon:"wifi-quality-4.svg"},{content:(0,i.w5)((()=>[Yt])),_:1})])),_:1}),(0,i.Wm)(d,{to:"/domain",class:"u-height-cover"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",icon:"domain.svg"},{content:(0,i.w5)((()=>[Jt])),_:1})])),_:1})])]),(0,i._)("div",Qt,[null!=a.domain?((0,i.wg)(),(0,i.j4)(c,{key:0,transparent:"","no-border":"",adjust:"","side-padding":"10",link:r.mindInspectorUrl},{content:(0,i.w5)((()=>[Xt])),_:1},8,["link"])):(0,i.kq)("",!0),null!=a.domain?((0,i.wg)(),(0,i.j4)(c,{key:1,transparent:"","no-border":"",adjust:"","side-padding":"10",link:r.logsUrl},{content:(0,i.w5)((()=>[es])),_:1},8,["link"])):(0,i.kq)("",!0),(0,i.Wm)(c,{icon:"start.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:r.startMas,"is-loading":a.startingMas},{content:(0,i.w5)((()=>[ts])),_:1},8,["onClick","is-loading"]),(0,i.Wm)(c,{icon:"stop.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:r.stopMas,"is-loading":a.stopingMas},{content:(0,i.w5)((()=>[ss])),_:1},8,["onClick","is-loading"]),(0,i.Wm)(c,{icon:"reset.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"13",onClick:r.resetSystem},null,8,["onClick"]),(0,i.Wm)(c,{icon:"turn-off.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"13.5",onClick:r.turnOffSystem},null,8,["onClick"]),(0,i.Wm)(c,{icon:"logout.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:r.logout},null,8,["onClick"])])]),(0,i._)("div",ns,[(0,i._)("div",is,[(0,i._)("div",os,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.projectName=e),placeholder:"Nome do projeto"},null,512),[[n.nr,a.projectName]]),(0,i._)("div",as,[a.savingProject?((0,i.wg)(),(0,i.iD)("div",rs,[(0,i.Wm)(p,{"border-width":"1",ratio:"14","main-color":"var(--pallete-text-main)"}),ls])):((0,i.wg)(),(0,i.iD)("div",cs,ps))])]),(0,i._)("div",gs,[(0,i._)("span",{class:"coder__explorer__item first-level u-row u-align-i-center",onClick:t[1]||(t[1]=e=>a.masOpen=!a.masOpen)},[(0,i._)("img",{src:qt,class:(0,u.C_)(["coder__explorer__item__toggle",a.masOpen?"open":""])},null,2),ms]),(0,i.wy)((0,i._)("div",hs,[(0,i._)("div",_s,[(0,i._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center",onClick:t[2]||(t[2]=e=>a.agentsOpen=!a.agentsOpen)},[(0,i._)("img",{src:qt,class:(0,u.C_)(["coder__explorer__item__toggle",a.agentsOpen?"open":""])},null,2),ws]),(0,i._)("button",{class:"coder__action is-add",onClick:t[3]||(t[3]=(...e)=>r.addAgentFile&&r.addAgentFile(...e))})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.agents,((t,s)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:s,class:"coder__explorer__item third-level u-row u-align-i-center u-gap-3"},[(0,i._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center u-gap-3",onClick:e=>this.currentFile=t},[fs,(0,i.wy)((0,i._)("select",{class:"is-agent-type coder__action","onUpdate:modelValue":e=>t.archClass=e},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.agentTypes,((e,s)=>((0,i.wg)(),(0,i.iD)("option",{key:s,value:e,selected:t.archClass===e},(0,u.zw)(e),9,ys)))),128))],8,ks),[[n.bM,t.archClass]]),(0,i.wy)((0,i._)("input",{type:"text",class:"coder__explorer__item__name","onUpdate:modelValue":e=>t.name=e,ref_for:!0,ref:"input",readonly:""},null,8,Cs),[[n.nr,t.name]])],8,vs),(0,i.Wm)(g,{type:"contextmenu",direction:"right"},{options:(0,i.w5)((()=>[(0,i._)("button",{onClick:t=>r.editFileName(e.$refs.input[s])},"Renomear ",8,Ss),bs,(0,i._)("button",Os,[Rs,(0,i.Wm)(l,{for:"agent-delete-button",title:"Deletar "+t.name,ref_for:!0,ref:"delete-agent-popup","can-close":!1},{content:(0,i.w5)((()=>[Ns])),action:(0,i.w5)((()=>[(0,i.Wm)(c,{color:"var(--pallete-color-black-4)",onClick:t=>e.$refs["delete-agent-popup"][s].close()},{content:(0,i.w5)((()=>[Es])),_:2},1032,["onClick"]),(0,i.Wm)(c,{color:"var(--pallete-color-red-1)",onClick:()=>{r.removeFile(s,a.agents),e.$refs["delete-agent-popup"][s].close()}},{content:(0,i.w5)((()=>[Is])),_:2},1032,["onClick"])])),_:2},1032,["title"])])])),_:2},1024)])),[[n.F8,a.agentsOpen]]))),128)),(0,i._)("div",Ds,[(0,i._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center",onClick:t[4]||(t[4]=e=>a.firmwaresOpen=!a.firmwaresOpen)},[(0,i._)("img",{src:qt,class:(0,u.C_)(["coder__explorer__item__toggle",a.firmwaresOpen?"open":""])},null,2),As]),(0,i._)("button",{class:"coder__action is-add",onClick:t[5]||(t[5]=(...e)=>r.addFirmwareFile&&r.addFirmwareFile(...e))})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.firmwares,((t,s)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:s,class:"coder__explorer__item second-level u-row u-align-i-center u-gap-3"},[(0,i._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center u-gap-3",onClick:e=>this.currentFile=t},[xs,(0,i._)("span",Ls,(0,u.zw)(t.name),1)],8,Ts),(0,i.Wm)(g,{type:"contextmenu",direction:"right"},{options:(0,i.w5)((()=>[(0,i._)("button",{onClick:t=>r.editFileName(e.$refs.input[s])},"Renomear ",8,$s),Us,(0,i._)("button",{class:"severe",onClick:e=>r.removeFile(s,a.firmwares)},"Excluir",8,js)])),_:2},1024)])),[[n.F8,a.firmwaresOpen]]))),128))],512),[[n.F8,a.masOpen]])]),(0,i._)("div",Ws,[(0,i._)("div",Fs,[Ms,(0,i._)("div",Ps,[(0,i._)("input",{type:"file",style:{display:"none"},id:"add-library",onChange:t[6]||(t[6]=e=>r.importLibrary(e)),accept:".zip"},null,32),qs,(0,i._)("div",{class:"coder__action is-refresh",onClick:t[7]||(t[7]=e=>r.loadLibraries(!0))})])]),a.loadingLibraries?((0,i.wg)(),(0,i.iD)("div",Bs,[(0,i.Wm)(p,{"border-width":"2","main-color":"var(--pallete-text-main)",ratio:"25"})])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.libraries,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"coder__explorer__item first-level u-row u-align-i-center",key:t},[(0,i._)("span",null,(0,u.zw)(e.name),1)])))),128))])]),(0,i._)("div",Zs,[(0,i._)("div",zs,[(0,i._)("span",Hs,(0,u.zw)(null!=a.currentFile?a.currentFile.name:"Nenhum arquivo"),1),(0,i._)("div",Ks,[a.firmwareFileIsOpen?((0,i.wg)(),(0,i.j4)(c,{key:0,icon:"upload.svg",transparent:"",adjust:"","icon-ratio":"12","no-border":"","side-padding":"10","no-pointer":"",onClick:r.compileSketch,"is-loading":a.compilingSketch},{content:(0,i.w5)((()=>[Gs])),_:1},8,["onClick","is-loading"])):(0,i.kq)("",!0),a.firmwareFileIsOpen?((0,i.wg)(),(0,i.j4)(c,{key:1,icon:"white-circle.svg",transparent:"",adjust:"","icon-ratio":"12","no-border":"","side-padding":"10","no-pointer":"",onClick:r.deploySketch,"is-loading":a.deployingSketch},{content:(0,i.w5)((()=>[Vs])),_:1},8,["onClick","is-loading"])):(0,i.kq)("",!0)])]),(0,i._)("div",Ys,[(0,i._)("div",Js,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.lineQuantity,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:"coder__writer__line"},(0,u.zw)(e),1)))),128))],512),null!=a.currentFile?(0,i.wy)(((0,i.wg)(),(0,i.iD)("textarea",{key:0,class:"coder__writer__text",ref:"coder","onUpdate:modelValue":t[8]||(t[8]=e=>a.currentFile.sourceCode=e),spellcheck:"false",readonly:null==a.currentFile},null,8,Qs)),[[n.nr,a.currentFile.sourceCode]]):((0,i.wg)(),(0,i.iD)("textarea",Xs,null,512))])]),a.firmwareFileIsOpen?((0,i.wg)(),(0,i.iD)("div",en,[(0,i._)("div",tn,[sn,(0,i._)("div",{class:"coder__action is-refresh",onClick:t[9]||(t[9]=e=>r.loadBoards(!0)),style:{"background-size":"45%"}})]),a.loadingBoards?((0,i.wg)(),(0,i.iD)("div",nn,[(0,i.Wm)(p,{"border-width":"2","main-color":"var(--pallete-text-main)",ratio:"25"})])):0!==a.boards.length||a.loadingBoards?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:2},(0,i.Ko)(a.boards,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"coder__board u-column u-justify-i-between",key:t,onClick:t=>a.currentBoard=e},[(0,i._)("div",cn,[(0,i._)("span",dn,[(0,i._)("span",null,(0,u.zw)(e.board),1),(0,i._)("span",un,(0,u.zw)(e.fqbn),1)]),(0,i._)("div",{class:(0,u.C_)(["coder__board__select",e===a.currentBoard?"is-selected":""])},null,2)]),(0,i._)("span",pn,(0,u.zw)(e.port),1)],8,ln)))),128)):((0,i.wg)(),(0,i.iD)("div",on,rn))])):(0,i.kq)("",!0)])])}const mn={class:"toggle"},hn={class:"toggle__options u-column"};function _n(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",mn,[(0,i._)("div",hn,[(0,i.WI)(e.$slots,"options")])])}var wn={name:"Toggle",props:{type:{type:String,default:"click",required:!1},direction:{type:String,default:null,required:!1}},data(){return{isOpen:!1,triggerElement:null}},mounted(){this.triggerElement=this.$el.parentElement,document.body.append(this.$el),document.body.addEventListener(this.type,(e=>{"contextmenu"==this.type&&e.preventDefault(),this.triggerElement.contains(e.target)||e.target==this.triggerElement?this.isOpen?this.close():this.open():this.isOpen&&this.close()})),"contextmenu"==this.type&&document.body.addEventListener("click",(e=>{this.triggerElement.contains(e.target)||e.target==this.triggerElement||this.isOpen&&this.close()}))},methods:{close(){this.isOpen=!1,this.$el.classList.remove("is-open")},open(){this.isOpen=!0,this.$el.classList.add("is-open"),this.adjustToRelative()},adjustToRelative(){let e=this.triggerElement.getBoundingClientRect(),t=this.$el.getBoundingClientRect();if(null==this.direction){let s=window.innerWidth/2;if(s>e.left)this.$el.style.left=e.left+"px";else{let s=Math.abs(t.width-e.width);this.$el.style.left=e.left-s+"px"}}else"right"==this.direction&&(this.$el.style.left=e.right-t.width+"px");e.top+e.height+t.height>=window.innerHeight?this.$el.style.top=e.top-t.height+"px":this.$el.style.top=e.top+e.height+"px"}}};const vn=(0,m.Z)(wn,[["render",_n],["__scopeId","data-v-0b0e4fb5"]]);var fn=vn,kn=JSON.parse('{"r":"void setup() {\\n\\n}\\n\\nvoid loop(){\\n\\n}","W":"/* Initial beliefs and rules */\\n\\n/* Initial goals *\\n\\n!start.\\n\\n/* Plans */\\n\\n+!start <- .print(\\"Hello world!\\")."}');const yn="\n",Cn="\t",Sn="$",bn=18,On="agent",Rn="sketch",Nn="http://";var En={name:"Coder",components:{Toggle:fn,Loading:Z,Button:ht,Popup:re},data(){return{projectName:"",currentFile:null,currentBoard:null,firmwareFileIsOpen:!1,domain:null,agents:[],firmwares:[],boards:[],libraries:[],masOpen:!0,agentsOpen:!0,firmwaresOpen:!0,agentTypes:[d.ARGO,d.JASON,d.COMMUNICATOR],boardResponse:null,savingProject:!1,importingMas:!1,startingMas:!1,stopingMas:!1,compilingSketch:!1,deployingSketch:!1,loadingBoards:!1,loadingLibraries:!1,showLogMonitor:!1}},watch:{agents:{handler(){this.saveProject()},deep:!0},firmwares:{handler(){this.saveProject()},deep:!0},projectName(e){this.projectName=G.removeInvalidCharacters(e),this.saveProject()}},computed:{mindInspectorUrl(){return Nn+this.domain.domain+":3272"},logsUrl(){return Nn+this.domain.domain+":3271"},lineQuantity(){try{return""===this.currentFile.sourceCode?1:this.currentFile.sourceCode.split(yn).length}catch(e){return 1}}},setup(){G.setTitle("Criando SMA"),ue.loadToken()},mounted(){ue.get(he.PROJECTS).then((e=>{this.agents=e.data.data.agents,this.firmwares=e.data.data.firmwares,this.projectName=e.data.data.name,this.currentFile=this.agents[0]})),this.$refs.coder.style.height=this.$refs.coderLines.scrollHeight+2*bn+"px",ue.get(he.DOMAINS).then((e=>{this.domain=e.data.data})),this.loadBoards(),this.loadLibraries(),this.$refs.coder.addEventListener("keydown",(e=>{13===e.which?this.$refs.coder.style.height=this.$refs.coderLines.scrollHeight+bn+"px":8===e.which?this.$refs.coder.style.height=this.$refs.coderLines.scrollHeight-bn+"px":219===e.which?e.shiftKey?this.write(e,"{"+yn+Cn+Sn+yn+"}",!0):this.write(e,`[${Sn}]`,!0):57===e.which&&e.shiftKey?this.write(e,`(${Sn})`,!0):9===e.which?(e.preventDefault(),this.write(e,Cn,!1)):222===e.which&&(e.shiftKey?this.write(e,`"${Sn}"`,!0):this.write(e,`'${Sn}'`,!0))}))},methods:{projectIsInvalid(){return 0===this.projectName.length&&(this.$emit("message",{content:"O nome do projeto não pode ser vazio",type:l.ERROR}),!0)},compileSketch(){null!=this.currentBoard?(this.compilingSketch=!0,ue.post(he.SKETCH_COMPILE,{params:{boardName:this.currentBoard.fqbn,code:this.currentFile.sourceCode}}).then((e=>{this.boardResponse=e.data.data,this.compilingSketch=!1,this.$refs.boardResponse.showing(!0)}))):this.$emit("message",{content:"Nenhuma placa foi selecionada",type:l.WARNING})},deploySketch(){null!=this.currentBoard?(this.deployingSketch=!0,ue.post(he.SKETCH_DEPLOY,{params:{serialPort:this.currentBoard.port,boardName:this.currentBoard.fqbn}}).then((e=>{this.$refs.boardResponse.showing(!0),this.boardResponse=e.data.data,this.deployingSketch=!1}))):this.$emit("message",{content:"Não existe nenhuma placa selecionada",type:l.WARNING})},importLibrary(e){let t=e.target.files;0!==t.length&&(t[0].name.includes(" ")?this.$emit("message",{content:"O nome do arquivo não pode ter espaço",type:l.ERROR}):(this.loadingLibraries=!0,ue.post(he.LIBRARIES_IMPORT,_e.MULTIPART_CONFIG,{file:t[0]}).then((e=>{200===e.status?(this.$emit("message",{content:e.data.data,type:l.SUCCESS}),this.loadLibraries(!0).then((()=>{this.loadingLibraries=!1}))):(this.$emit("message",{content:e.data.data,type:l.ERROR}),this.loadingLibraries=!1)}))))},saveProject(){return this.savingProject=!0,ue.put(he.PROJECTS,{},{name:this.projectName,agents:this.agents,firmwares:this.firmwares}).then((()=>{setTimeout((()=>{this.savingProject=!1}),100)}))},startMas(){this.projectIsInvalid()||(this.startingMas=!0,ue.put(he.MAS_START,{},{name:this.projectName,agents:this.agents}).then((e=>{this.$emit("message",{content:e.data.data.message,type:l.SUCCESS}),this.startingMas=!1})))},stopMas(){this.stopingMas=!0,ue.put(he.MAS_STOP).then((e=>{e.data.data.includes("Encerrando SMA")?this.$emit("message",{content:e.data.data,type:l.SUCCESS}):this.$emit("message",{content:"SMA já foi parado",type:l.WARNING}),this.stopingMas=!1}))},turnOffSystem(){this.$emit("message",{content:"Desligando sistema",type:l.WARNING}),ue.put(he.SYSTEM_POWEROFF),setTimeout((()=>{Ln.push(An.LOGIN)}),2e3)},resetSystem(){this.$emit("message",{content:"Reiniciando sistema",type:l.WARNING}),ue.put(he.SYSTEM_REBOOT),setTimeout((()=>{Ln.push(An.LOGIN)}),2e3)},logout(){ue["delete"](he.USERS),Ln.push(An.LOGIN)},removeFile(e,t){this.currentFile==t[e]?0==e?(t.splice(e,1),0==t.length&&(this.currentFile=null)):(this.currentFile=t[e-1],t.splice(e,1)):t.splice(e,1)},addFirmwareFile(){this.firmwares.push({name:Rn+(this.firmwares.length+1),sourceCode:kn.r})},addAgentFile(){this.agents.push({name:On+(this.agents.length+1),archClass:d.JASON,sourceCode:kn.W})},editFileName(e){e.focus(),e.readOnly=!1,e.onblur=()=>{e.readOnly=!0},e.onkeydown=t=>{t.key!=c.ENTER?e.value=G.removeInvalidCharacters(e.value):e.readOnly=!0}},loadLibraries(e=!1){return this.loadingLibraries=!0,ue.get(he.LIBRARIES,e).then((e=>{this.libraries=e.data.data})).then((()=>{this.loadingLibraries=!1}))},loadBoards(e){this.currentBoard=null,this.loadingBoards=!0,ue.get(he.BOARDS,e).then((e=>{this.boards=e.data.data,this.loadingBoards=!1,0!=this.boards.length&&(this.currentBoard=this.boards[0])}))},write(e,t,s){e.preventDefault(),setTimeout((()=>{let e,n=this.$refs.coder.selectionStart,i=this.currentFile.sourceCode.substring(0,n),o=this.currentFile.sourceCode.substring(n);this.currentFile.sourceCode=i+t+o,s?(e=this.currentFile.sourceCode.indexOf(Sn),this.currentFile.sourceCode=this.currentFile.sourceCode.replace(Sn,"")):e=n+t.length,setTimeout((()=>{this.$refs.coder.setSelectionRange(e,e)}),0)}),0)}}};const In=(0,m.Z)(En,[["render",gn],["__scopeId","data-v-76260f34"]]);var Dn=In;class An{}(0,k.Z)(An,"LOGIN","/login.html"),(0,k.Z)(An,"CONNECT","/connect"),(0,k.Z)(An,"CODER","/coder.html"),(0,k.Z)(An,"DOMAIN","/domain");const Tn=[{path:An.LOGIN,name:"Login",component:fe},{path:An.CONNECT,name:"Connect",component:Rt},{path:An.DOMAIN,name:"Domain",component:Mt},{path:An.CODER,name:"Coder",component:Dn}],xn=(0,y.p7)({history:(0,y.PO)("/chonide/"),routes:Tn});var Ln=xn;(0,n.ri)(f).use(Ln).mount("#app")},4325:function(e,t,s){var n={"./add.svg":5294,"./back-action.svg":5672,"./check.svg":5066,"./close-action.svg":1584,"./domain.svg":1405,"./loading.svg":1020,"./lock.svg":2129,"./logout.svg":752,"./ok-action.svg":4743,"./refresh.svg":1250,"./remove.svg":5028,"./reset.svg":6506,"./start.svg":1464,"./stop.svg":3456,"./toggle.svg":7436,"./turn-off.svg":3972,"./upload.svg":9202,"./white-circle.svg":8037,"./wifi-quality-1.svg":8029,"./wifi-quality-2.svg":6054,"./wifi-quality-3.svg":8213,"./wifi-quality-4.svg":3516};function i(e){var t=o(e);return s(t)}function o(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=4325},5294:function(e,t,s){"use strict";e.exports=s.p+"img/add.615e5f4b.svg"},5672:function(e,t,s){"use strict";e.exports=s.p+"img/back-action.4ba354a6.svg"},5066:function(e,t,s){"use strict";e.exports=s.p+"img/check.a8b6633c.svg"},1584:function(e,t,s){"use strict";e.exports=s.p+"img/close-action.c3a5562a.svg"},1405:function(e,t,s){"use strict";e.exports=s.p+"img/domain.11ce1c66.svg"},1020:function(e,t,s){"use strict";e.exports=s.p+"img/loading.eb689ca3.svg"},2129:function(e,t,s){"use strict";e.exports=s.p+"img/lock.4dd72288.svg"},752:function(e,t,s){"use strict";e.exports=s.p+"img/logout.26a09f93.svg"},4743:function(e,t,s){"use strict";e.exports=s.p+"img/ok-action.34199290.svg"},1250:function(e,t,s){"use strict";e.exports=s.p+"img/refresh.64c71597.svg"},5028:function(e,t,s){"use strict";e.exports=s.p+"img/remove.a55d0407.svg"},6506:function(e,t,s){"use strict";e.exports=s.p+"img/reset.691b7962.svg"},1464:function(e,t,s){"use strict";e.exports=s.p+"img/start.6006f0e5.svg"},3456:function(e,t,s){"use strict";e.exports=s.p+"img/stop.be9cb0ff.svg"},7436:function(e,t,s){"use strict";e.exports=s.p+"img/toggle.7e153438.svg"},3972:function(e,t,s){"use strict";e.exports=s.p+"img/turn-off.efeabbfa.svg"},9202:function(e,t,s){"use strict";e.exports=s.p+"img/upload.2e465c85.svg"},8037:function(e,t,s){"use strict";e.exports=s.p+"img/white-circle.81dbaecf.svg"},8029:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-1.0a773bc1.svg"},6054:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-2.55b49fe1.svg"},8213:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-3.521eb2b2.svg"},3516:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-4.11682555.svg"}}]);
//# sourceMappingURL=chunk-common.735a1cf9.js.map
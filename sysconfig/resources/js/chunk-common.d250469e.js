(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[64],{4271:function(e,s,t){"use strict";var i=t(9242),n=t(3396);const o={class:"u-total-center page"},a={class:"response u-column u-gap-3",ref:"response"};function r(e,s,t,i,r,l){const c=(0,n.up)("Message"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.messages,((e,s)=>((0,n.wg)(),(0,n.j4)(c,{key:s,message:e},null,8,["message"])))),128))],512),(0,n.Wm)(u,{onMessage:s[0]||(s[0]=e=>l.message(e)),onRemoveMessage:s[1]||(s[1]=e=>l.removeMessage(e))})])}var l,c=t(7139);function u(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["message u-total-center",a.mountResponseClasses()])},(0,c.zw)(t.message.content),3)}(function(e){e[e["ERROR"]=0]="ERROR",e[e["SUCCESS"]=1]="SUCCESS",e[e["WARNING"]=2]="WARNING"})(l||(l={}));var d={name:"Message",props:{message:Object},methods:{mountResponseClasses(){let e;return e=this.message.type===l.ERROR?"is-error":this.message.type===l.SUCCESS?"is-success":this.message.type===l.WARNING?"is-warning":"is-normal",e}},mounted(){setTimeout((()=>{this.$el.remove()}),this.message.timeout)}},p=t(89);const g=(0,p.Z)(d,[["render",u],["__scopeId","data-v-9b935b7c"]]);var m=g,h={name:"App",components:{Message:m},data(){return{messages:[]}},methods:{message(e){if(this.messages.length>=6)return void this.messages.splice(5,1);null==e.timeout&&(e.timeout=2e3);let s=!1,t=0;this.messages.forEach(((i,n)=>{if(i.content===e.content)return t=n,void(s=!0)})),s?(this.messages.splice(t,1),setTimeout((()=>{this.messages.push(e)}),1)):this.messages.push(e)},removeMessage(e){this.messages.forEach(((s,t)=>{s.content===e&&this.messages.splice(t,1)}))}}};const _=(0,p.Z)(h,[["render",r]]);var w=_,f=t(2483);const v=e=>((0,n.dD)("data-v-30c76ecc"),e=e(),(0,n.Cn)(),e),k={class:"login u-column u-align-i-center u-justify-i-center u-gap-1"},y=v((()=>(0,n._)("h1",{class:"logo u-column u-align-i-center u-gap-2"},[(0,n._)("span",{class:"logo__systemname u-row u-gap-3 u-align-i-center"},[(0,n._)("span",{class:"is-bold"},"chonos"),(0,n._)("span",{class:"is-aside is-light"},"sysconfig")])],-1))),b={class:"u-column u-gap-2 u-align-i-center"},C={class:"c-base-container login__form u-column u-gap-3"},S={class:"u-row u-gap-3 u-align-i-center u-justify-i-center"},D=v((()=>(0,n._)("span",{class:"is-aside"},"Usar host local",-1))),j={key:0,class:"u-column u-gap-2 u-align-i-center"},L=(0,n.Uk)(" Por favor, aguarde... "),$={key:0},I={key:1,class:"u-column u-gap-3 u-align-i-center is-big"},F=(0,n.Uk)(" Seu novo link de acesso ao sysconfig "),R=["href"];function W(e,s,t,o,a,r){const l=(0,n.up)("Response"),u=(0,n.up)("Trace"),d=(0,n.up)("RoundedButton"),p=(0,n.up)("Loading"),g=(0,n.up)("Popup");return(0,n.wg)(),(0,n.iD)("div",k,[(0,n.Wm)(l,{ref:"response"},null,512),y,(0,n._)("div",b,[(0,n._)("div",C,[(0,n.wy)((0,n._)("input",{type:"text",name:"user",placeholder:"Usuário",class:"login__input","onUpdate:modelValue":s[0]||(s[0]=e=>a.username=e),autocomplete:"off"},null,512),[[i.nr,a.username]]),(0,n.Wm)(u),(0,n.wy)((0,n._)("input",{type:"password",name:"password",placeholder:"Senha",class:"login__input","onUpdate:modelValue":s[1]||(s[1]=e=>a.password=e),autocomplete:"off"},null,512),[[i.nr,a.password]]),a.useLocalHost?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(u,{key:0})),a.useLocalHost?(0,n.kq)("",!0):(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:1,type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>a.currentHost=e),placeholder:"Hostname",class:"login__input"},null,512)),[[i.nr,a.currentHost]])]),(0,n.Wm)(d,{onClick:r.submit,"is-loading":a.loading},null,8,["onClick","is-loading"])]),(0,n._)("div",S,[D,(0,n.wy)((0,n._)("input",{type:"checkbox",class:"login__check-box","onUpdate:modelValue":s[3]||(s[3]=e=>a.useLocalHost=e)},null,512),[[i.e8,a.useLocalHost]])]),(0,n.Wm)(g,{title:"Conectando à rede","can-close":!1,ref:"conecting"},{content:(0,n.w5)((()=>[0!=a.awaitConnectionCounter?((0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("span",null,[L,null!=a.currentDomain?((0,n.wg)(),(0,n.iD)("span",$,(0,c.zw)(a.awaitConnectionCounter),1)):(0,n.kq)("",!0)]),(0,n.Wm)(p)])):((0,n.wg)(),(0,n.iD)("div",I,[F,(0,n._)("a",{href:"https://"+a.currentDomain+":3270/sysconfig",target:"_blank",class:"login__new-link"},(0,c.zw)("https://"+a.currentDomain+":3270/sysconfig"),9,R)]))])),_:1},512)])}function N(e,s,t,i,o,a){const r=(0,n.up)("Loading");return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["rounded-button-container","left"===t.direction?"is-left":"is-right"])},[(0,n._)("button",{class:(0,c.C_)(["rounded-button u-total-center",t.isLoading?"is-loading":""])},[t.isLoading?((0,n.wg)(),(0,n.j4)(r,{key:0,class:(0,c.C_)("rounded-button__loading")})):(0,n.kq)("",!0)],2)],2)}const x={class:"loading"};function U(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("div",x)}const q={name:"Loading",props:{mainColor:String,asideColor:String,ratio:String,borderWidth:String},data(){return{asideColorStyle:null==this.asideColor?"var(--pallete-color-black-3)":this.asideColor,mainColorStyle:null==this.mainColor?"var(--pallete-color-main-2)":this.mainColor,ratioStyle:null==this.ratio?"30px":this.ratio+"px",borderWidthStyle:null==this.borderWidth?"4px":this.borderWidth+"px"}}},M=()=>{(0,i.sj)((e=>({"5125fcda":e.borderWidthStyle,"5392cb03":e.asideColorStyle,"3a625f6a":e.mainColorStyle,f65b1aae:e.ratioStyle})))},A=q.setup;q.setup=A?(e,s)=>(M(),A(e,s)):M;var O=q;const B=(0,p.Z)(O,[["render",U],["__scopeId","data-v-ed8205a0"]]);var P=B,E={name:"RoundedButton",components:{Loading:P},props:{direction:String,isLoading:Boolean},mounted(){this.$el.parentElement.style.position="relative"}};const z=(0,p.Z)(E,[["render",N],["__scopeId","data-v-3959b114"]]);var T=z,H=t(2482),V=t(6265),Z=t.n(V);class K{static setTitle(e){document.title=e+this.TITLE_SUFFIX}static async isLogged(){return Z().get("/sysconfig/users")}static async isFirstAccess(){return Z().get("/sysconfig/users/first-access")}}function G(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["trace",["entire"===t.state?"is-entire":"","vertical"==t.type?"is-vertical":""]])},null,2)}(0,H.Z)(K,"TITLE_SUFFIX"," - sysconfig");var Y={name:"Trace",props:{state:String,type:String}};const Q=(0,p.Z)(Y,[["render",G]]);var X=Q;const J={style:{display:"none"},class:"pop-up-background u-total-center"},ee={class:"c-base-container pop-up u-column u-gap-2"},se={class:"u-row u-align-i-center u-justify-i-between"},te={class:"pop-up__title"},ie={class:"u-row u-gap-3 u-justify-i-end"};function ne(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("div",ee,[(0,n._)("div",se,[(0,n._)("span",te,(0,c.zw)(t.title),1),t.canClose?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"pop-up__close-action",onClick:s[0]||(s[0]=(...e)=>a.close&&a.close(...e))})):(0,n.kq)("",!0)]),(0,n.WI)(e.$slots,"content",{},void 0,!0),(0,n._)("div",ie,[(0,n.WI)(e.$slots,"action",{},void 0,!0)])])])}var oe={name:"Popup",props:{title:String,type:String,for:String,canClose:{type:Boolean,default:!0}},data(){return{triggerElement:null}},methods:{close(){this.showing(!1),null!=this.triggerElement&&null!=this.for&&this.triggerElement.appendChild(this.$el)},showing(e){e?this.$el.removeAttribute("style"):this.$el.style.display="none"}},mounted(){this.triggerElement=document.querySelector(`.${this.for}`),null!=this.triggerElement&&(this.triggerElement.appendChild(this.$el),this.triggerElement.onclick=()=>{this.showing(!0),document.body.appendChild(this.$el)})}};const ae=(0,p.Z)(oe,[["render",ne],["__scopeId","data-v-6c007574"]]);var re=ae,le={name:"Login",components:{Loading:P,Popup:re,Trace:X,RoundedButton:T},data(){return{username:"",password:"",loading:!1,keyPressListener:null,awaitConnection:"false",awaitConnectionCounter:5,currentDomain:null,useLocalHost:!0,currentHost:""}},setup(){K.setTitle("Entrar")},beforeUnmount(){document.removeEventListener("keypress",this.keyPressListener)},mounted(){this.awaitConnection=localStorage.getItem("connecting"),"true"===this.awaitConnection&&(this.$refs.conecting.showing(!0),Z().get("/sysconfig/domains").then((e=>{this.currentDomain=e.data.domain,Z()["delete"]("/sysconfig/users");let s=setInterval((()=>{this.awaitConnectionCounter--,0==this.awaitConnectionCounter&&(localStorage.setItem("connecting","false"),clearInterval(s))}),1e3)}))),this.keyPressListener=e=>{13===e.which&&this.submit()},document.addEventListener("keypress",this.keyPressListener)},methods:{submit(){0!==this.username.length&&0!==this.password.length?(this.loading=!0,Z().post("/sysconfig/users",{},{params:{username:this.username,password:this.password,host:this.currentHost}}).then((e=>{!0===e.data?K.isFirstAccess().then((e=>{!0===Boolean(e.data)?rn.push("/domain"):rn.push("/manager")})):(this.loading=!1,this.$emit("message",{content:"Não foi possível conectar ao sistema",type:l.ERROR}))})).catch((()=>{this.loading=!1}))):this.$emit("message",{content:"O usuário e/ou a senha não podem ser vazios",type:l.ERROR})}}};const ce=(0,p.Z)(le,[["render",W],["__scopeId","data-v-30c76ecc"]]);var ue=ce,de=t(8029),pe=t(6054),ge=t(8213),me=t(3516),he=t(2129);const _e=e=>((0,n.dD)("data-v-0749fe5d"),e=e(),(0,n.Cn)(),e),we={class:"u-column u-align-i-center u-gap-2"},fe=_e((()=>(0,n._)("h2",{class:"connect__message"},"Conecte à uma rede wifi para acesso à internet",-1))),ve={class:"u-row u-gap-3 u-justify-i-center"},ke={class:"u-column u-gap-3"},ye={class:"u-row u-gap-2 u-align-i-center"},be=(0,n.Uk)(" Criar rede "),Ce={class:"u-column u-gap-3"},Se={class:"u-row u-gap-2 u-align-i-center"},De=(0,n.Uk)(" Conectar à rede "),je=(0,n.Uk)(" Conectar manualmente "),Le=(0,n.Uk)(" Criar rede própria (AP) "),$e=(0,n.Uk)(" Atualizar "),Ie={key:1,class:"is-aside is-big"},Fe={key:2,class:"networks u-column u-align-i-center u-gap-3"},Re={key:0,class:"is-aside is-big"},We={class:"u-row u-gap-2 u-align-i-center"},Ne={style:{position:"relative"}},xe={key:0,class:"network__quality-indicator",src:de},Ue={key:1,class:"network__quality-indicator",src:pe},qe={key:2,class:"network__quality-indicator",src:ge},Me={key:3,class:"network__quality-indicator",src:me},Ae={key:4,class:"network__lock",src:he},Oe={class:"network__essid"},Be={key:0,class:"network__connected is-bold"},Pe={class:"u-column u-gap-3"},Ee={class:"u-row u-gap-2 u-align-i-center"},ze=(0,n.Uk)(" Conectar à rede "),Te=(0,n.Uk)(" Voltar para gerenciador ");function He(e,s,t,o,a,r){const l=(0,n.up)("Input"),u=(0,n.up)("Button"),d=(0,n.up)("Popup"),p=(0,n.up)("Loading"),g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",we,[fe,(0,n._)("div",ve,[(0,n.Wm)(d,{title:"Levantar uma rede própria AP",for:"network-customized",ref:"customized-network-pop-up"},{content:(0,n.w5)((()=>[(0,n._)("div",ke,[(0,n.Wm)(l,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"customized-network-essid-input"},null,512),(0,n.Wm)(l,{placeholder:"Senha da rede (Mínimo 8 caracteres)",type:"password",name:"password",ref:"customized-network-password-input"},null,512)])])),action:(0,n.w5)((()=>[(0,n._)("div",ye,[(0,n.Wm)(u,{onClick:r.createNetwork,"is-loading":a.isConnecting},{content:(0,n.w5)((()=>[be])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,n.Wm)(d,{title:"Conectar manualmente",for:"network-manual",ref:"manual-network-pop-up"},{content:(0,n.w5)((()=>[(0,n._)("div",Ce,[(0,n.Wm)(l,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"manual-network-essid-input"},null,512),(0,n.Wm)(l,{placeholder:"Senha da rede",type:"password",name:"password",ref:"manual-network-password-input"},null,512)])])),action:(0,n.w5)((()=>[(0,n._)("div",Se,[(0,n.Wm)(u,{onClick:r.connectManualNetwork,"is-loading":a.isConnecting},{content:(0,n.w5)((()=>[De])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,n.Wm)(u,{class:"network-manual",transparent:""},{content:(0,n.w5)((()=>[je])),_:1}),(0,n.Wm)(u,{class:"network-customized",transparent:""},{content:(0,n.w5)((()=>[Le])),_:1}),(0,n.Wm)(u,{onClick:r.getNetworks,icon:"refresh.svg","icon-ratio":"15.5"},{content:(0,n.w5)((()=>[$e])),_:1},8,["onClick"])]),a.isSearching?((0,n.wg)(),(0,n.j4)(p,{key:0})):(0,n.kq)("",!0),null==a.networks?((0,n.wg)(),(0,n.iD)("span",Ie," Procurando redes disponíveis... ")):((0,n.wg)(),(0,n.iD)("div",Fe,[0===a.networks.length?((0,n.wg)(),(0,n.iD)("span",Re," Não foram encontradas redes disponíveis ")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.networks,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["c-base-container network u-row u-justify-i-between u-align-i-center","network-"+t]),key:t,onClick:s[0]||(s[0]=e=>a.networkPopUpIsOpen=!0)},[(0,n._)("div",We,[(0,n._)("div",Ne,[e.quality<15?((0,n.wg)(),(0,n.iD)("img",xe)):e.quality<30?((0,n.wg)(),(0,n.iD)("img",Ue)):e.quality<65?((0,n.wg)(),(0,n.iD)("img",qe)):((0,n.wg)(),(0,n.iD)("img",Me)),!0===e.encryption&&null===e.password?((0,n.wg)(),(0,n.iD)("img",Ae)):(0,n.kq)("",!0)]),(0,n._)("span",Oe,(0,c.zw)(e.essid),1)]),a.connectedNetwork.essid==e.essid&&a.connectedNetwork.frequency==e.frequency?((0,n.wg)(),(0,n.iD)("span",Be," Conectado ")):(0,n.kq)("",!0),(0,n.Wm)(d,{title:"Conectar-se à rede",for:"network-"+t,ref_for:!0,ref:"network"},{content:(0,n.w5)((()=>[(0,n._)("div",Pe,[(0,n.Wm)(l,{type:"text",readonly:"true","model-value":e.essid,name:"essid"},null,8,["model-value"]),(0,n.wy)((0,n.Wm)(l,{"model-value":e.password,placeholder:"Senha da rede",type:"password",name:"password"},null,8,["model-value"]),[[i.F8,!0===e.encryption]])])])),action:(0,n.w5)((()=>[(0,n._)("div",Ee,[(0,n.Wm)(u,{onClick:e=>r.connectNetwork(t),"is-loading":a.isConnecting},{content:(0,n.w5)((()=>[ze])),_:2},1032,["onClick","is-loading"])])])),_:2},1032,["for"])],2)))),128))])),a.isFirstAccess?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(g,{key:3,to:"/manager"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{navigation:""},{content:(0,n.w5)((()=>[Te])),_:1})])),_:1}))])}const Ve=["href","target"],Ze={key:0,class:"button-background"},Ke=["src"],Ge={key:3},Ye={key:0,class:"button-background"},Qe=["src"],Xe={key:3};function Je(e,s,i,o,a,r){const l=(0,n.up)("Loading");return null!=i.link?((0,n.wg)(),(0,n.iD)("a",{key:0,href:null!=i.link?i.link:"",target:null!=i.link?"_blank":"",class:(0,c.C_)(["button",[a.skinClasses,"u-row u-align-i-center u-justify-i-center"]])},[null==i.transparent&&null==i.navigation?((0,n.wg)(),(0,n.iD)("div",Ze)):(0,n.kq)("",!0),i.isLoading?((0,n.wg)(),(0,n.j4)(l,{key:1,ratio:"14","border-width":"1","aside-color":"rgba(255,255,255,0.2)","main-color":"white"})):null!=i.icon?((0,n.wg)(),(0,n.iD)("img",{key:2,src:t(4325)(`./${i.icon}`),class:"button__icon"},null,8,Ke)):(0,n.kq)("",!0),null!=e.$slots.content?((0,n.wg)(),(0,n.iD)("span",Ge,[(0,n.WI)(e.$slots,"content",{},void 0,!0)])):(0,n.kq)("",!0)],10,Ve)):((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",class:(0,c.C_)(["button",[a.skinClasses,"u-row u-align-i-center u-justify-i-center"]])},[null==i.transparent&&null==i.navigation?((0,n.wg)(),(0,n.iD)("div",Ye)):(0,n.kq)("",!0),i.isLoading?((0,n.wg)(),(0,n.j4)(l,{key:1,ratio:"14","border-width":"1","aside-color":"rgba(255,255,255,0.2)","main-color":"white"})):null!=i.icon?((0,n.wg)(),(0,n.iD)("img",{key:2,src:t(4325)(`./${i.icon}`),class:"button__icon"},null,8,Qe)):(0,n.kq)("",!0),null!=e.$slots.content?((0,n.wg)(),(0,n.iD)("span",Xe,[(0,n.WI)(e.$slots,"content",{},void 0,!0)])):(0,n.kq)("",!0)],2))}const es={name:"Button",components:{Loading:P},props:{transparent:String,underlined:String,navigation:String,icon:String,iconRatio:String,color:String,rounded:String,noBorder:String,isLoading:Boolean,adjust:String,sidePadding:String,link:String},data(){return{iconRatioStyle:null!=this.iconRatio?this.iconRatio+"px":"15px",skinClasses:this.mountSkinClasses(),colorStyle:null==this.color?"var(--pallete-color-main-1)":this.color,sidePaddingStyle:null==this.sidePadding?"initial":this.sidePadding+"px"}},methods:{mountSkinClasses(){let e;return e=null!=this.transparent?"is-transparent":null!=this.underlined?"is-underlined":null!=this.navigation?"is-navigation":"is-filled",null!=this.adjust&&(e+=" is-adjust"),null!=this.sidePadding&&(e+=" side-padding"),null!=this.icon&&(null!=this.$slots.content?e+=" has-icon":e+=" is-icon"),null!=this.border?e+=" is-rounded":null!=this.noBorder&&(e+=" has-not-border"),e}}},ss=()=>{(0,i.sj)((e=>({"1ce27210":e.colorStyle,"5624dfa9":e.iconRatioStyle,"078e0681":e.sidePaddingStyle})))},ts=es.setup;es.setup=ts?(e,s)=>(ss(),ts(e,s)):ss;var is=es;const ns=(0,p.Z)(is,[["render",Je],["__scopeId","data-v-8d9a1452"]]);var os=ns;const as=["readonly","value","type","name","placeholder"],rs={key:1,class:"input__file-label u-total-center"},ls=["name","accept"],cs={class:"input__file-label__fileName"};function us(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["u-row u-gap-3 input",["true"===t.readonly?"ready-only":"","file"===t.type?"is-file":""]])},["file"!==t.type?((0,n.wg)(),(0,n.iD)("input",{key:0,readonly:t.readonly,value:t.modelValue,onInput:s[0]||(s[0]=s=>e.$emit("update:modelValue",s.target.value)),type:t.type,name:t.name,placeholder:t.placeholder,class:"u-width-cover",ref:"input",autocomplete:"off"},null,40,as)):((0,n.wg)(),(0,n.iD)("label",rs,[(0,n._)("input",{type:"file",name:t.name,onChange:s[1]||(s[1]=e=>a.mountFileName(e)),ref:"input",accept:t.accept},null,40,ls),(0,n._)("span",cs,(0,c.zw)(o.fileName),1)]))],2)}var ds={name:"Input",props:{name:String,type:String,placeholder:String,readonly:String,modelValue:String,accept:String},data(){return{fileName:"Importar arquivo..."}},methods:{mountFileName(e){let s=e.target.value;0===s.length?this.fileName="Importar arquivo...":this.fileName=s.replace("C:\\fakepath\\","")}}};const ps=(0,p.Z)(ds,[["render",us],["__scopeId","data-v-7f8d722c"]]);var gs=ps,ms={name:"Connect",components:{Loading:P,Input:gs,Popup:re,Button:os},data(){return{networks:null,connectResponse:null,isSearching:!0,networkPopUpIsOpen:!1,connectedNetwork:null,isConnecting:!1,isFirstAccess:!1}},mounted(){K.isFirstAccess().then((e=>{this.isFirstAccess=e.data})),Z().get("/sysconfig/networks/status").then((e=>{this.connectedNetwork=e.data})),this.getNetworks()},setup(){K.setTitle("Conectar")},methods:{getNetworks(){this.isSearching=!0,Z().get("/sysconfig/networks").then((e=>{this.networks=e.data,this.isSearching=!1}))},createNetwork(){let e=this.$refs["customized-network-essid-input"].$refs.input.value,s=this.$refs["customized-network-password-input"].$refs.input.value;s.length<8?this.$emit("message",{content:"A senha da rede precisa ser igual ou mais que 8 caracteres",type:l.ERROR}):(this.isConnecting=!0,Z().post("/sysconfig/networks/ap",{essid:e,password:s}).then((()=>{this.isConnecting=!1,this.$refs["customized-network-pop-up"].close(),localStorage.setItem("connecting","true"),rn.push("/login")})))},connectNetwork(e){let s=this.$refs["network"][e].$el.querySelector("input[name='essid']").value,t=this.$refs["network"][e].$el.querySelector("input[name='password']").value;this.isConnecting=!0,Z().post("/sysconfig/networks/client",{essid:s,password:t}).then((()=>{this.isConnecting=!1,this.$refs["network"][e].close(),localStorage.setItem("connecting","true"),rn.push("/login")}))},connectManualNetwork(){let e=this.$refs["manual-network-essid-input"].$refs.input.value,s=this.$refs["manual-network-password-input"].$refs.input.value;this.isConnecting=!0,Z().post("/sysconfig/networks/client",{essid:e,password:s}).then((()=>{this.isConnecting=!1,this.$refs["manual-network-pop-up"].close(),localStorage.setItem("connecting","true"),rn.push("/login")}))}}};const hs=(0,p.Z)(ms,[["render",He],["__scopeId","data-v-0749fe5d"]]);var _s=hs;const ws=e=>((0,n.dD)("data-v-c8c77636"),e=e(),(0,n.Cn)(),e),fs={class:"manager u-column u-gap-2"},vs={class:"manager__header u-row u-align-i-center u-justify-i-between"},ks={class:"u-row u-gap-2 u-align-i-center"},ys={class:"u-row u-gap-3"},bs=(0,n.Uk)(" Nome do bot "),Cs=(0,n.Uk)(" Redes "),Ss=["href"],Ds=(0,n.Uk)(" Logs do SMA "),js=(0,n.Uk)(" chonIDE "),Ls={class:"u-row u-gap-2"},$s={class:"u-row u-gap-3"},Is=(0,n.Uk)(" Iniciar SMA "),Fs=(0,n.Uk)(" Parar SMA "),Rs=(0,n.Uk)(" Importar SMA "),Ws={class:"u-row u-gap-2"},Ns=(0,n.Uk)(" Importar "),xs={class:"u-row u-gap-3"},Us={class:"manager__main u-row u-gap-2 u-justify-i-center"},qs={class:"manager__boards u-column u-gap-2"},Ms={class:"u-row u-align-i-center u-justify-i-between"},As=ws((()=>(0,n._)("h2",{class:"is-huge"},"Placas",-1))),Os={key:1,class:"manager__boards__list"},Bs={key:0,class:"is-big is-aside"},Ps={class:"u-row u-gap-3 u-align-i-center"},Es={class:"is-big is-bold"},zs={class:"manager__board__indicator is-small"},Ts={class:"u-column u-gap-3"},Hs={class:"u-row u-gap-3 u-align-i-center"},Vs=ws((()=>(0,n._)("span",{class:"manager__board__indicator is-small"},"Núcleo",-1))),Zs={class:"manager__board__value"},Ks={class:"u-row u-gap-3 u-align-i-center"},Gs=ws((()=>(0,n._)("span",{class:"manager__board__indicator is-small"},"Porta",-1))),Ys={class:"manager__board__value"},Qs={class:"u-row u-gap-3 u-align-s-end u-align-i-center"},Xs=(0,n.Uk)(" Deploy "),Js=(0,n.Uk)(" Firmware "),et={class:"manager__libraries u-column u-gap-2"},st={class:"u-row u-align-i-center u-justify-i-between"},tt=ws((()=>(0,n._)("h2",{class:"is-huge"},"Bibliotecas",-1))),it={class:"u-row u-gap-3"},nt={class:"u-row u-gap-2"},ot=(0,n.Uk)(" Importar "),at={key:1,class:"manager__libraries__list u-column u-gap-3"},rt={key:0,class:"is-big is-aside"};function lt(e,s,t,i,o,a){const r=(0,n.up)("Logo"),l=(0,n.up)("Button"),u=(0,n.up)("router-link"),d=(0,n.up)("Input"),p=(0,n.up)("Popup"),g=(0,n.up)("Loading");return(0,n.wg)(),(0,n.iD)("div",fs,[(0,n._)("header",vs,[(0,n._)("div",ks,[(0,n.Wm)(r,{name:"sysconfig"}),(0,n._)("div",ys,[(0,n.Wm)(u,{to:"/domain"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{navigation:"",icon:"domain.svg"},{content:(0,n.w5)((()=>[bs])),_:1})])),_:1}),(0,n.Wm)(u,{to:"/connect"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{navigation:"",icon:"wifi-quality-4.svg","icon-ratio":"16"},{content:(0,n.w5)((()=>[Cs])),_:1})])),_:1}),(0,n._)("a",{href:"http://"+this.currentDomain+":3271",target:"_blank"},[(0,n.Wm)(l,{navigation:""},{content:(0,n.w5)((()=>[Ds])),_:1})],8,Ss),(0,n.Wm)(u,{to:"/coder"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{navigation:""},{content:(0,n.w5)((()=>[js])),_:1})])),_:1})])]),(0,n._)("div",Ls,[(0,n._)("div",$s,[(0,n.Wm)(l,{transparent:"",icon:"start.svg","is-loading":o.isStartingMas,onClick:a.startMas},{content:(0,n.w5)((()=>[Is])),_:1},8,["is-loading","onClick"]),(0,n.Wm)(l,{transparent:"",icon:"stop.svg","icon-ratio":"14","is-loading":o.isStopingMas,onClick:a.stopMas},{content:(0,n.w5)((()=>[Fs])),_:1},8,["is-loading","onClick"]),(0,n.Wm)(l,{icon:"upload.svg",class:"import-projectController","is-loading":o.isImportingMas},{content:(0,n.w5)((()=>[Rs])),_:1},8,["is-loading"]),(0,n.Wm)(p,{title:"Importar SMA",for:"import-projectController",ref:"pop-up-import-projectController"},{content:(0,n.w5)((()=>[(0,n._)("div",Ws,[(0,n.Wm)(d,{type:"file",ref:"projectController-file-input"},null,512)])])),action:(0,n.w5)((()=>[(0,n.Wm)(l,{onClick:a.importMas,icon:"upload.svg"},{content:(0,n.w5)((()=>[Ns])),_:1},8,["onClick"])])),_:1},512)]),(0,n._)("div",xs,[(0,n.Wm)(l,{icon:"turn-off.svg",transparent:"",rounded:"",onClick:a.turnOff,"icon-ratio":"16"},null,8,["onClick"]),(0,n.Wm)(l,{icon:"reset.svg",transparent:"",rounded:"",onClick:a.reset,"icon-ratio":"16"},null,8,["onClick"]),(0,n.Wm)(l,{icon:"logout.svg",transparent:"",rounded:"",onClick:a.logout,"icon-ratio":"16"},null,8,["onClick"])])])]),(0,n._)("main",Us,[(0,n._)("div",qs,[(0,n._)("div",Ms,[As,(0,n.Wm)(l,{icon:"refresh.svg",transparent:"",rounded:"",onClick:a.refreshBoards},null,8,["onClick"])]),o.isSearchingBoards?((0,n.wg)(),(0,n.j4)(g,{key:0,class:(0,c.C_)("manager__loading")})):((0,n.wg)(),(0,n.iD)("div",Os,[0===o.boards.length?((0,n.wg)(),(0,n.iD)("span",Bs,"Não foram detectadas placas")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.boards,((s,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"c-base-container manager__board u-column u-gap-2 u-justify-i-between",key:t},[(0,n._)("div",Ps,[(0,n._)("span",Es,(0,c.zw)(s.board),1),(0,n._)("span",zs,(0,c.zw)(s.fqbn),1)]),(0,n._)("div",Ts,[(0,n._)("span",Hs,[Vs,(0,n._)("span",Zs,(0,c.zw)(s.core),1)]),(0,n._)("span",Ks,[Gs,(0,n._)("span",Ys,(0,c.zw)(s.port),1)])]),(0,n._)("div",Qs,[(0,n.Wm)(l,{color:"var(--pallete-color-green-1)",icon:"white-circle.svg","icon-ratio":"16",onClick:t=>e.deploy(s.port,s.fqbn),"is-loading":o.isDeploying},{content:(0,n.w5)((()=>[Xs])),_:2},1032,["onClick","is-loading"]),(0,n.Wm)(l,{icon:"upload.svg",class:"",onClick:e=>a.code(s)},{content:(0,n.w5)((()=>[Js])),_:2},1032,["onClick"])])])))),128))]))]),(0,n._)("div",et,[(0,n._)("div",st,[tt,(0,n._)("div",it,[(0,n.Wm)(l,{icon:"upload.svg",transparent:"",rounded:"",class:"upload-library"}),(0,n.Wm)(l,{icon:"refresh.svg",transparent:"",rounded:"",onClick:a.refreshLibraries},null,8,["onClick"]),(0,n.Wm)(p,{title:"Importar biblioteca",for:"upload-library",ref:"pop-up-import-library"},{content:(0,n.w5)((()=>[(0,n._)("div",nt,[(0,n.Wm)(d,{type:"file",ref:"upload-library-input",accept:".zip"},null,512)])])),action:(0,n.w5)((()=>[(0,n.Wm)(l,{onClick:a.uploadLibrary,icon:"upload.svg"},{content:(0,n.w5)((()=>[ot])),_:1},8,["onClick"])])),_:1},512)])]),o.isSearchingLibraries?((0,n.wg)(),(0,n.j4)(g,{key:0,class:(0,c.C_)("manager__loading")})):((0,n.wg)(),(0,n.iD)("div",at,[0===o.libraries.length?((0,n.wg)(),(0,n.iD)("span",rt,"Não foram detectadas bibliotecas")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.libraries,((e,s)=>((0,n.wg)(),(0,n.iD)("span",{class:"manager__library",key:s},(0,c.zw)(e.name),1)))),128))]))])])])}const ct=e=>((0,n.dD)("data-v-7f02e036"),e=e(),(0,n.Cn)(),e),ut={class:"logo u-column u-align-i-center u-gap-2"},dt={class:"u-row u-gap-3 u-align-i-center"},pt=ct((()=>(0,n._)("a",{href:"http://chonos.sf.net/",target:"_blank",class:"logo__chonos is-bold"},"chonos",-1))),gt={class:"is-aside is-light"};function mt(e,s,t,i,o,a){return(0,n.wg)(),(0,n.iD)("h1",ut,[(0,n._)("span",dt,[pt,(0,n._)("span",gt,(0,c.zw)(t.name),1)])])}var ht={name:"Logo",props:{name:String}};const _t=(0,p.Z)(ht,[["render",mt],["__scopeId","data-v-7f02e036"]]);var wt=_t,ft={name:"Manager",components:{Logo:wt,Input:gs,Popup:re,Loading:P,Button:os},data(){return{boards:[],libraries:[],boardPopUpIsOpen:!1,isSearchingBoards:!0,isSearchingLibraries:!0,isCompiling:!1,isDeploying:!1,isImportingMas:!1,isStartingMas:!1,isStopingMas:!1,currentDomain:""}},setup(){K.setTitle("Gerenciador")},mounted(){K.isFirstAccess().then((e=>{1==e.data?rn.push("/"):Z().get("/sysconfig/domains").then((e=>{this.currentDomain=e.data.domain}))})),this.getBoards(),this.getLibraries()},methods:{turnOff(){this.$emit("message",{content:"Desligando sistema",type:l.WARNING}),Z().put("/sysconfig/system/poweroff"),setTimeout((()=>{rn.push("/")}),2e3)},reset(){this.$emit("message",{content:"Reiniciando sistema",type:l.WARNING}),Z().put("/sysconfig/system/reboot"),setTimeout((()=>{rn.push("/")}),2e3)},logout(){Z()["delete"]("/sysconfig/users"),rn.push("/")},uploadLibrary(){let e=this.$refs["upload-library-input"].$refs.input;if(0===e.value.length||0===e.files.length)return void this.$emit("message",{content:"Você precisa selecionar um arquivo para importar",type:l.ERROR});let s=new FormData;s.append("file",e.files[0]),this.$refs["pop-up-import-library"].close(),this.isSearchingLibraries=!0,Z().post("/sysconfig/libraries/import",s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{!1!==e.data?this.getLibraries():this.$emit("message",{content:"Não foi possível importar essa biblioteca. Confira seu formato e validade",type:l.ERROR})}))},startMas(){this.isStartingMas=!0,Z().put("/sysconfig/projectController/start").then((e=>{null!=e.data||0!=e.data.length?(this.$emit("message"),this.$emit("message",{content:e.data.message,type:l.SUCCESS})):this.$emit("message",{content:"SMA já foi iniciado",type:l.WARNING}),this.isStartingMas=!1})).catch((()=>{this.isStartingMas=!1}))},stopMas(){this.isStopingMas=!0,Z().put("/sysconfig/projectController/stop").then((e=>{null!=e.data||0!=e.data.length?this.$emit("message",{content:e.data,type:l.SUCCESS}):this.$emit("message",{content:"SMA já está parado",type:l.WARNING}),this.isStopingMas=!1})).catch((()=>{this.isStopingMas=!1}))},importMas(){let e=this.$refs["projectController-file-input"].$refs.input;if(0===e.value.length||0===e.files.length)return void this.$emit("message",{content:"Você precisa selecionar um arquivo para importar",type:l.ERROR});let s=new FormData;s.append("file",e.files[0]),this.$refs["pop-up-import-projectController"].close(),this.isImportingMas=!0,Z().post("/sysconfig/projectController/import",s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.boardResponse=e.data,this.isImportingMas=!1}))},code(e){Z().post("/sysconfig/sketch/board",{},{params:{boardName:e.fqbn}}).then((()=>{rn.push("/coder")}))},refreshBoards(){this.isSearchingBoards=!0,this.getBoards()},getBoards(){Z().get("/sysconfig/boards").then((e=>{null==e.data?this.boards=[]:this.boards=e.data,this.isSearchingBoards=!1})).catch((()=>{this.isSearchingBoards=!1}))},refreshLibraries(){this.isSearchingLibraries=!0,this.getLibraries()},getLibraries(){Z().get("/sysconfig/libraries").then((e=>{this.libraries=e.data,this.isSearchingLibraries=!1})).catch((e=>{this.isSearchingLibraries=!1}))}}};const vt=(0,p.Z)(ft,[["render",lt],["__scopeId","data-v-c8c77636"]]);var kt=vt;const yt=e=>((0,n.dD)("data-v-506d05b2"),e=e(),(0,n.Cn)(),e),bt={class:"u-column u-gap-1 u-align-i-center"},Ct=["href"],St={class:"u-column u-gap-3 u-align-i-center"},Dt=yt((()=>(0,n._)("h2",{class:"is-huge"},"Informe o nome do seu bot",-1))),jt={class:"is-aside"},Lt=(0,n.Uk)(" Através desse nome, você será capaz de acessar o sysconfig via: "),$t={key:0,class:"is-bold"},It={class:"u-column u-align-i-center u-gap-2"},Ft=(0,n.Uk)(" Salvar nome "),Rt=(0,n.Uk)(" Voltar para gerenciador ");function Wt(e,s,t,o,a,r){const l=(0,n.up)("Popup"),u=(0,n.up)("Button"),d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",bt,[a.showUrl?((0,n.wg)(),(0,n.j4)(l,{key:0,title:"URL de acesso seu sistema",type:"now"},{content:(0,n.w5)((()=>[(0,n._)("a",{href:"https://"+a.domain+".bot.chon.group:3270/sysconfig",target:"_blank",class:"domain__url is-huge"},(0,c.zw)(a.domain)+".bot.chon.group:3270/sysconfig",9,Ct)])),_:1})):(0,n.kq)("",!0),(0,n._)("div",St,[Dt,(0,n._)("span",jt,[Lt,""!==a.domain?((0,n.wg)(),(0,n.iD)("span",$t,(0,c.zw)(a.domain)+".bot.chon.group:3270/sysconfig ",1)):(0,n.kq)("",!0)])]),(0,n._)("div",It,[(0,n.wy)((0,n._)("input",{type:"text",class:"c-base-container domain-input is-huge","onUpdate:modelValue":s[0]||(s[0]=e=>a.domain=e),placeholder:"Nome do bot",maxlength:"30"},null,512),[[i.nr,a.domain]]),(0,n.Wm)(u,{onClick:r.submit,isLoading:a.loading},{content:(0,n.w5)((()=>[Ft])),_:1},8,["onClick","isLoading"])]),a.isFirstAccess?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:1,to:"/manager"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{navigation:""},{content:(0,n.w5)((()=>[Rt])),_:1})])),_:1}))])}var Nt={name:"Domain",components:{Popup:re,Button:os},data(){return{domain:"",showUrl:!1,loading:!1,isFirstAccess:!1}},watch:{domain(e){this.domain=e.replace(" ","").toLowerCase()}},setup(){K.setTitle("Nome do bot")},mounted(){K.isFirstAccess().then((e=>{this.isFirstAccess=Boolean(e.data)}))},methods:{submit(){""!==this.domain&&0!==this.domain.length?(this.loading=!0,Z().post("/sysconfig/domains",{},{params:{domain:this.domain}}).then((()=>{this.$emit("message",{content:"O nome do seu bot foi salvo com sucesso",type:l.SUCCESS}),rn.push("/connect")}))):this.$emit("message",{content:"O nome não pode ser vazio",type:l.ERROR})}}};const xt=(0,p.Z)(Nt,[["render",Wt],["__scopeId","data-v-506d05b2"]]);var Ut=xt,qt=t(5066),Mt=t(7436);const At=e=>((0,n.dD)("data-v-219512be"),e=e(),(0,n.Cn)(),e),Ot={class:"coder u-column"},Bt={class:"coder__compiled-response"},Pt={class:"coder__header u-row u-justify-i-between u-align-i-center"},Et=At((()=>(0,n._)("h2",{class:"coder__header__logo u-row"}," chonIDE ",-1))),zt={class:"u-row u-height-cover"},Tt=(0,n.Uk)(" Logs do SMA "),Ht=(0,n.Uk)(" Iniciar SMA "),Vt=(0,n.Uk)(" Parar SMA "),Zt={class:"u-row"},Kt={class:"coder__explorer u-column"},Gt={class:"coder__header-bar coder__explorer__project-name u-row"},Yt={class:"coder__project-status is-aside"},Qt={key:0,class:"u-row u-gap-3"},Xt=(0,n.Uk)(" Salvando projeto "),Jt={key:1,class:"u-row u-gap-3"},ei=At((()=>(0,n._)("img",{src:qt,style:{width:"13px"}},null,-1))),si=(0,n.Uk)(" Projeto salvo "),ti=[ei,si],ii={class:"coder__explorer__main"},ni=(0,n.Uk)(" Sistema multiagente "),oi={class:"u-column"},ai={class:"coder__explorer__item second-level u-row u-align-i-center"},ri=At((()=>(0,n._)("span",null,"Agentes",-1))),li=["onClick"],ci=At((()=>(0,n._)("span",{class:"coder__explorer__item__icon"},"Ag",-1))),ui=["onUpdate:modelValue"],di=["value","selected"],pi={class:"coder__explorer__item__name"},gi=["onClick"],mi={class:"coder__explorer__item second-level u-row u-align-i-center"},hi=At((()=>(0,n._)("span",null,"Firmwares",-1))),_i=["onClick"],wi=At((()=>(0,n._)("span",{class:"coder__explorer__item__icon"},"C++",-1))),fi={class:"coder__explorer__item__name"},vi=["onClick"],ki={class:"coder__explorer__libraries"},yi={class:"coder__header-bar u-row u-justify-i-between"},bi=At((()=>(0,n._)("span",{class:"coder__header-bar__title"}," Bibliotecas ",-1))),Ci={class:"u-row u-width-fit u-height-cover"},Si=At((()=>(0,n._)("label",{type:"file",class:"coder__action is-add",for:"add-library"},null,-1))),Di={key:0,class:"u-total-center u-height-cover u-width-cover"},ji={class:"coder__coding u-column"},Li={class:"coder__coding__controller u-row u-justify-i-between"},$i={class:"u-row"},Ii=(0,n.Uk)(" Compilar "),Fi=(0,n.Uk)(" Deploy "),Ri={class:"coder__writer u-row"},Wi={class:"coder__writer__lines u-column",ref:"coderLines"},Ni={key:0,class:"coder__boards u-column"},xi={class:"coder__header-bar u-row u-justify-i-between"},Ui=At((()=>(0,n._)("span",{class:"coder__header-bar__title"},"Placas disponíveis",-1))),qi={key:0,class:"u-total-center u-height-cover u-width-cover"},Mi={key:1,class:"u-total-center u-height-cover u-width-cover"},Ai=At((()=>(0,n._)("span",{class:"is-aside"},"Não foram encontradas placas disponíveis",-1))),Oi=[Ai],Bi=["onClick"],Pi={class:"u-row u-justify-i-between"},Ei={class:"u-column"},zi={class:"is-aside"},Ti={class:"is-aside"};function Hi(e,s,t,o,a,r){const l=(0,n.up)("Popup"),u=(0,n.up)("Button"),d=(0,n.up)("Loading");return(0,n.wg)(),(0,n.iD)("div",Ot,[(0,n.Wm)(l,{title:"Compilado",ref:"boardResponse"},{content:(0,n.w5)((()=>[(0,n._)("div",Bt,(0,c.zw)(a.boardResponse),1)])),_:1},512),(0,n._)("div",Pt,[Et,(0,n._)("div",zt,[null!=a.domain?((0,n.wg)(),(0,n.j4)(u,{key:0,transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:s[0]||(s[0]=e=>a.showLogMonitor=!0),class:"sma-logs-button",link:"http://"+a.domain.domain+":3271"},{content:(0,n.w5)((()=>[Tt])),_:1},8,["link"])):(0,n.kq)("",!0),(0,n.Wm)(u,{icon:"start.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:r.startMas,"is-loading":a.startingMas},{content:(0,n.w5)((()=>[Ht])),_:1},8,["onClick","is-loading"]),(0,n.Wm)(u,{icon:"stop.svg",transparent:"","no-border":"",adjust:"","side-padding":"10","icon-ratio":"12",onClick:r.stopMas,"is-loading":a.stopingMas},{content:(0,n.w5)((()=>[Vt])),_:1},8,["onClick","is-loading"])])]),(0,n._)("div",Zt,[(0,n._)("div",Kt,[(0,n._)("div",Gt,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>a.projectName=e),placeholder:"Nome do projeto"},null,512),[[i.nr,a.projectName]]),(0,n._)("div",Yt,[a.savingProject?((0,n.wg)(),(0,n.iD)("div",Qt,[(0,n.Wm)(d,{"border-width":"1",ratio:"14","main-color":"var(--pallete-text-main)"}),Xt])):((0,n.wg)(),(0,n.iD)("div",Jt,ti))])]),(0,n._)("div",ii,[(0,n._)("span",{class:"coder__explorer__item first-level u-row u-align-i-center",onClick:s[2]||(s[2]=e=>a.masOpen=!a.masOpen)},[(0,n._)("img",{src:Mt,class:(0,c.C_)(["coder__explorer__item__toggle",a.masOpen?"open":""])},null,2),ni]),(0,n.wy)((0,n._)("div",oi,[(0,n._)("div",ai,[(0,n._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center",onClick:s[3]||(s[3]=e=>a.agentsOpen=!a.agentsOpen)},[(0,n._)("img",{src:Mt,class:(0,c.C_)(["coder__explorer__item__toggle",a.agentsOpen?"open":""])},null,2),ri]),(0,n._)("button",{class:"coder__action is-add",onClick:s[4]||(s[4]=(...e)=>r.addAgentFile&&r.addAgentFile(...e))})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.agents,((e,s)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:s,class:"coder__explorer__item third-level u-row u-align-i-center u-gap-3"},[(0,n._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center u-gap-3",onClick:e=>r.showAgentFile(s)},[ci,(0,n.wy)((0,n._)("select",{class:"is-agent-type coder__action","onUpdate:modelValue":s=>e.archClass=s},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.agentTypes,((s,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:s,selected:e.archClass===s},(0,c.zw)(s),9,di)))),128))],8,ui),[[i.bM,e.archClass]]),(0,n._)("span",pi,(0,c.zw)(e.name),1)],8,li),0!==s?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"coder__action is-remove",onClick:e=>r.removeAgentFile(s)},null,8,gi)):(0,n.kq)("",!0)])),[[i.F8,a.agentsOpen]]))),128)),(0,n._)("div",mi,[(0,n._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center",onClick:s[5]||(s[5]=e=>a.firmwaresOpen=!a.firmwaresOpen)},[(0,n._)("img",{src:Mt,class:(0,c.C_)(["coder__explorer__item__toggle",a.firmwaresOpen?"open":""])},null,2),hi]),(0,n._)("button",{class:"coder__action is-add",onClick:s[6]||(s[6]=(...e)=>r.addFirmwareFile&&r.addFirmwareFile(...e))})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.firmwares,((e,s)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:s,class:"coder__explorer__item third-level u-row u-align-i-center u-gap-3"},[(0,n._)("div",{class:"u-height-cover u-width-cover u-row u-align-i-center u-gap-3",onClick:e=>r.showFirmwareFile(s)},[wi,(0,n._)("span",fi,(0,c.zw)(e.name),1)],8,_i),0!==s?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"coder__action is-remove",onClick:e=>r.removeFirmwareFile(s)},null,8,vi)):(0,n.kq)("",!0)])),[[i.F8,a.firmwaresOpen]]))),128))],512),[[i.F8,a.masOpen]])]),(0,n._)("div",ki,[(0,n._)("div",yi,[bi,(0,n._)("div",Ci,[(0,n._)("input",{type:"file",style:{display:"none"},id:"add-library",onChange:s[7]||(s[7]=e=>r.importLibrary(e)),accept:".zip"},null,32),Si,(0,n._)("div",{class:"coder__action is-refresh",onClick:s[8]||(s[8]=e=>r.loadLibraries(!0))})])]),a.loadingLibraries?((0,n.wg)(),(0,n.iD)("div",Di,[(0,n.Wm)(d,{"border-width":"2","main-color":"var(--pallete-text-main)",ratio:"25"})])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.libraries,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"coder__explorer__item first-level u-row u-align-i-center",key:s},[(0,n._)("span",null,(0,c.zw)(e.name),1)])))),128))])]),(0,n._)("div",ji,[(0,n._)("div",Li,[(0,n.wy)((0,n._)("input",{type:"text",class:"coder__coding__file-name",placeholder:"Nome do arquivo","onUpdate:modelValue":s[9]||(s[9]=e=>a.currentFile.name=e)},null,512),[[i.nr,a.currentFile.name]]),(0,n._)("div",$i,[a.firmwareFileIsOpen?((0,n.wg)(),(0,n.j4)(u,{key:0,icon:"upload.svg",transparent:"",adjust:"","icon-ratio":"12","no-border":"","side-padding":"10","no-pointer":"",onClick:r.compileSketch,"is-loading":a.compilingSketch},{content:(0,n.w5)((()=>[Ii])),_:1},8,["onClick","is-loading"])):(0,n.kq)("",!0),a.firmwareFileIsOpen?((0,n.wg)(),(0,n.j4)(u,{key:1,icon:"white-circle.svg",transparent:"",adjust:"","icon-ratio":"12","no-border":"","side-padding":"10","no-pointer":"",onClick:r.deploySketch,"is-loading":a.deployingSketch},{content:(0,n.w5)((()=>[Fi])),_:1},8,["onClick","is-loading"])):(0,n.kq)("",!0)])]),(0,n._)("div",Ri,[(0,n._)("div",Wi,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.lineQuantity,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"coder__writer__line"},(0,c.zw)(e),1)))),128))],512),(0,n.wy)((0,n._)("textarea",{class:"coder__writer__text",ref:"coder","onUpdate:modelValue":s[10]||(s[10]=e=>a.currentFile.sourceCode=e),spellcheck:"false"},null,512),[[i.nr,a.currentFile.sourceCode]])])]),a.firmwareFileIsOpen?((0,n.wg)(),(0,n.iD)("div",Ni,[(0,n._)("div",xi,[Ui,(0,n._)("div",{class:"coder__action is-refresh",onClick:s[11]||(s[11]=e=>r.loadBoards(!0)),style:{"background-size":"45%"}})]),a.loadingBoards?((0,n.wg)(),(0,n.iD)("div",qi,[(0,n.Wm)(d,{"border-width":"2","main-color":"var(--pallete-text-main)",ratio:"25"})])):0!==a.boards.length||a.loadingBoards?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:2},(0,n.Ko)(a.boards,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"coder__board u-column u-justify-i-between",key:s,onClick:s=>a.currentBoard=e},[(0,n._)("div",Pi,[(0,n._)("span",Ei,[(0,n._)("span",null,(0,c.zw)(e.board),1),(0,n._)("span",zi,(0,c.zw)(e.fqbn),1)]),(0,n._)("div",{class:(0,c.C_)(["coder__board__select",e===a.currentBoard?"is-selected":""])},null,2)]),(0,n._)("span",Ti,(0,c.zw)(e.port),1)],8,Bi)))),128)):((0,n.wg)(),(0,n.iD)("div",Mi,Oi))])):(0,n.kq)("",!0)])])}const Vi="\n",Zi="\t",Ki="$",Gi=18,Yi="Argo",Qi="Jason",Xi="Communicator",Ji="Agente",en="sketch";var sn={name:"Coder",components:{Loading:P,Button:os,Popup:re},data(){return{projectName:"",currentFile:{},currentBoard:null,firmwareFileIsOpen:!1,domain:null,agents:[],firmwares:[],boards:[],libraries:[],masOpen:!0,agentsOpen:!0,firmwaresOpen:!0,agentTypes:[Yi,Qi,Xi],boardResponse:null,savingProject:!1,importingMas:!1,startingMas:!1,stopingMas:!1,compilingSketch:!1,deployingSketch:!1,loadingBoards:!1,loadingLibraries:!1,showLogMonitor:!1}},watch:{agents:{handler(){this.saveProject()},deep:!0},firmwares:{handler(){this.saveProject()},deep:!0},projectName(e){this.projectName=e.replace("-","").replace(" ",""),this.saveProject()}},computed:{lineQuantity(){try{return""===this.currentFile.sourceCode?1:this.currentFile.sourceCode.split(Vi).length}catch(e){return 1}}},setup(){K.setTitle("Criando SMA")},mounted(){Z().get("/sysconfig/projects").then((e=>{this.agents=e.data.agents,this.firmwares=e.data.firmwares,this.projectName=e.data.name,this.currentFile=this.agents[0]})),Z().get("/sysconfig/domains").then((e=>{this.domain=e.data})),this.loadBoards(!1).then((()=>{0!==this.boards.length&&(this.currentBoard=this.boards[0])})),this.loadLibraries(!1),this.$refs.coder.addEventListener("keydown",(e=>{13===e.keyCode?this.$refs.coder.style.height=this.$refs.coderLines.scrollHeight+Gi+"px":8===e.keyCode?this.$refs.coder.style.height=this.$refs.coderLines.scrollHeight-Gi+"px":221===e.keyCode?e.shiftKey?this.write(e,"{"+Vi+Zi+Ki+Vi+"}",!0):this.write(e,`[${Ki}]`,!0):57===e.keyCode&&e.shiftKey?this.write(e,`(${Ki})`,!0):9===e.keyCode?(e.preventDefault(),this.write(e,Zi,!1)):192===e.keyCode&&this.write(e,`"${Ki}"`,!0)}))},methods:{projectIsInvalid(){return 0===this.projectName.length&&(this.$emit("message",{content:"O nome do projeto não pode ser vazio",type:l.ERROR}),!0)},compileSketch(){null!=this.currentBoard?(this.compilingSketch=!0,Z().post("/sysconfig/sketchs/compile",{},{params:{boardName:this.currentBoard.fqbn,code:this.currentFile.sourceCode}}).then((e=>{this.boardResponse=e.data,this.compilingSketch=!1,this.$refs.boardResponse.showing(!0)}))):this.$emit("message",{content:"Nenhuma placa foi selecionada",type:l.WARNING})},deploySketch(){null!=this.currentBoard?(this.deployingSketch=!0,Z().post("/sysconfig/sketchs/deploy",{},{params:{serialPort:this.currentBoard.port,boardName:this.currentBoard.fqbn}}).then((e=>{this.$refs.boardResponse.showing(!0),this.boardResponse=e.data,this.deployingSketch=!1}))):this.$emit("message",{content:"Não existe nenhuma placa selecionada",type:l.WARNING})},saveProject(){return this.savingProject=!0,Z().put("/sysconfig/projects",{name:this.projectName,agents:this.agents,firmwares:this.firmwares}).then((()=>{setTimeout((()=>{this.savingProject=!1}),100)}))},startMas(){this.projectIsInvalid()||(this.startingMas=!0,Z().put("/sysconfig/mas/start",{name:this.projectName,agents:this.agents}).then((e=>{this.$emit("message",{content:e.data.message,type:l.SUCCESS}),this.startingMas=!1})))},stopMas(){this.stopingMas=!0,Z().put("/sysconfig/mas/stop").then((e=>{0===e.data.length?this.$emit("message",{content:"SMA já foi parado",type:l.WARNING}):this.$emit("message",{content:e.data,type:l.SUCCESS}),this.stopingMas=!1}))},removeAgentFile(e){this.currentFile===this.agents[e]&&(this.currentFile=this.agents[e-1]),this.agents.splice(e,1)},removeFirmwareFile(e){this.currentFile===this.firmwares[e]&&(this.currentFile=this.firmwares[e-1]),this.firmwares.splice(e,1)},showAgentFile(e){this.currentFile=this.agents[e],this.firmwareFileIsOpen=!1},showFirmwareFile(e){this.currentFile=this.firmwares[e],this.firmwareFileIsOpen=!0},addFirmwareFile(){this.firmwares.push({name:en+" "+(this.firmwares.length+1),sourceCode:"void setup() {\n  // put your setup code here, to run once:\n\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\n\n}"})},addAgentFile(){this.agents.push({name:Ji+" "+(this.agents.length+1),archClass:Qi,sourceCode:'/* Initial beliefs and rules */\n\n/* Initial goals */\n\n!start.\n\n/* Plans */\n\n+!start <- .print("Hello world!").'})},importLibrary(e){let s=e.target.files;0!==s.length&&(s[0].name.includes(" ")?this.$emit("message",{content:"O nome do arquivo não pode ter espaço",type:l.ERROR}):(this.loadingLibraries=!0,Z().post("/sysconfig/libraries/import",{file:s[0]},{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200===e.status?(this.$emit("message",{content:e.data,type:l.SUCCESS}),this.loadLibraries(!0).then((()=>{this.loadingLibraries=!0}))):(this.$emit("message",{content:e.data,type:l.ERROR}),this.loadingLibraries=!0)}))))},loadLibraries(e){return this.loadingLibraries=!0,Z().get("/sysconfig/libraries",{params:{refresh:e}}).then((e=>{this.libraries=e.data})).then((()=>{this.loadingLibraries=!1}))},loadBoards(e){return this.currentBoard=null,this.loadingBoards=!0,Z().get("/sysconfig/boards",{params:{refresh:e}}).then((e=>{this.boards=e.data,this.loadingBoards=!1,this.currentBoard=this.boards[0]}))},write(e,s,t){e.preventDefault(),setTimeout((()=>{let e,i=this.$refs.coder.selectionStart,n=this.currentFile.sourceCode.substring(0,i),o=this.currentFile.sourceCode.substring(i);this.currentFile.sourceCode=n+s+o,t?(e=this.currentFile.sourceCode.indexOf(Ki),this.currentFile.sourceCode=this.currentFile.sourceCode.replace(Ki,"")):e=i+s.length,setTimeout((()=>{this.$refs.coder.setSelectionRange(e,e)}),0)}),0)}}};const tn=(0,p.Z)(sn,[["render",Hi],["__scopeId","data-v-219512be"]]);var nn=tn;const on=[{path:"/login",name:"Login",component:ue},{path:"/connect",name:"Connect",component:_s},{path:"/manager",name:"Manager",component:kt},{path:"/domain",name:"Domain",component:Ut},{path:"/coder",name:"Coder",component:nn}],an=(0,f.p7)({history:(0,f.PO)("/sysconfig/"),routes:on});var rn=an;(0,i.ri)(w).use(rn).mount("#app")},4325:function(e,s,t){var i={"./add.svg":5294,"./back-action.svg":5672,"./check.svg":5066,"./close-action.svg":1584,"./domain.svg":1405,"./loading.svg":1020,"./lock.svg":2129,"./logout.svg":752,"./ok-action.svg":4743,"./refresh.svg":1250,"./remove.svg":5028,"./reset.svg":6506,"./start.svg":1464,"./stop.svg":3456,"./toggle.svg":7436,"./turn-off.svg":3972,"./upload.svg":9202,"./white-circle.svg":8037,"./wifi-quality-1.svg":8029,"./wifi-quality-2.svg":6054,"./wifi-quality-3.svg":8213,"./wifi-quality-4.svg":3516};function n(e){var s=o(e);return t(s)}function o(e){if(!t.o(i,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=4325},5294:function(e,s,t){"use strict";e.exports=t.p+"img/add.615e5f4b.svg"},5672:function(e,s,t){"use strict";e.exports=t.p+"img/back-action.4ba354a6.svg"},5066:function(e,s,t){"use strict";e.exports=t.p+"img/check.a8b6633c.svg"},1584:function(e,s,t){"use strict";e.exports=t.p+"img/close-action.c3a5562a.svg"},1405:function(e,s,t){"use strict";e.exports=t.p+"img/domain.11ce1c66.svg"},1020:function(e,s,t){"use strict";e.exports=t.p+"img/loading.eb689ca3.svg"},2129:function(e,s,t){"use strict";e.exports=t.p+"img/lock.4dd72288.svg"},752:function(e,s,t){"use strict";e.exports=t.p+"img/logout.8e895b99.svg"},4743:function(e,s,t){"use strict";e.exports=t.p+"img/ok-action.34199290.svg"},1250:function(e,s,t){"use strict";e.exports=t.p+"img/refresh.6e10f53a.svg"},5028:function(e,s,t){"use strict";e.exports=t.p+"img/remove.a55d0407.svg"},6506:function(e,s,t){"use strict";e.exports=t.p+"img/reset.4a47c07c.svg"},1464:function(e,s,t){"use strict";e.exports=t.p+"img/start.1c62311b.svg"},3456:function(e,s,t){"use strict";e.exports=t.p+"img/stop.82332811.svg"},7436:function(e,s,t){"use strict";e.exports=t.p+"img/toggle.7e153438.svg"},3972:function(e,s,t){"use strict";e.exports=t.p+"img/turn-off.93bfdf69.svg"},9202:function(e,s,t){"use strict";e.exports=t.p+"img/upload.2e465c85.svg"},8037:function(e,s,t){"use strict";e.exports=t.p+"img/white-circle.81dbaecf.svg"},8029:function(e,s,t){"use strict";e.exports=t.p+"img/wifi-quality-1.0a773bc1.svg"},6054:function(e,s,t){"use strict";e.exports=t.p+"img/wifi-quality-2.55b49fe1.svg"},8213:function(e,s,t){"use strict";e.exports=t.p+"img/wifi-quality-3.521eb2b2.svg"},3516:function(e,s,t){"use strict";e.exports=t.p+"img/wifi-quality-4.11682555.svg"}}]);
//# sourceMappingURL=chunk-common.d250469e.js.map
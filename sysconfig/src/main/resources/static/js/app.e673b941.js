(function(){var e={4896:function(e,t,s){"use strict";var n=s(9242),i=s(3396);const o={class:"u-total-center page"},a={class:"response u-column u-gap-3",ref:"response"};function r(e,t,s,n,r,c){const l=(0,i.up)("Message"),u=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.messages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{key:t,message:e},null,8,["message"])))),128))],512),(0,i.Wm)(u)])}var c,l=s(7139);function u(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["message u-total-center",a.mountResponseClasses()])},(0,l.zw)(s.message.content),3)}(function(e){e[e["ERROR"]=0]="ERROR",e[e["SUCCESS"]=1]="SUCCESS",e[e["WARNING"]=2]="WARNING"})(c||(c={}));var p={name:"Message",props:{message:Object},methods:{mountResponseClasses(){let e;return console.log(c.ERROR),e=this.message.type===c.ERROR?"is-error":this.message.type===c.SUCCESS?"is-success":this.message.type===c.WARNING?"is-warning":"is-normal",e}},mounted(){setTimeout((()=>{this.$el.remove()}),this.message.timeout)}},d=s(89);const g=(0,d.Z)(p,[["render",u],["__scopeId","data-v-2c9dab6e"]]);var m=g,h={name:"App",components:{Message:m},data(){return{messages:[]}},methods:{message(e){if(this.messages.length>=6)return void this.messages.splice(5,1);null==e.timeout&&(e.timeout=2e3);let t=!1,s=0;this.messages.forEach(((n,i)=>{if(n.content===e.content)return s=i,void(t=!0)})),t?(this.messages.splice(s,1),setTimeout((()=>{this.messages.push(e)}),1)):this.messages.push(e)}}};const f=(0,d.Z)(h,[["render",r]]);var w=f,v=s(2483);const _=e=>((0,i.dD)("data-v-477b6aea"),e=e(),(0,i.Cn)(),e),k={class:"login u-column u-justify-i-center u-gap-1"},y=_((()=>(0,i._)("h1",{class:"logo u-column u-align-i-center u-gap-2"},[(0,i._)("span",{class:"logo__systemname u-row u-gap-3 u-align-i-center"},[(0,i._)("span",{class:"is-bold"},"chonos"),(0,i._)("span",{class:"is-aside is-light"},"sysconfig")])],-1))),b={class:"c-base-container login__form u-column u-gap-3"},C={key:0,class:"u-column u-gap-2 u-align-i-center"},S={key:1,class:"u-column u-gap-3 u-align-i-center is-big"},R=(0,i.Uk)(" Seu novo link de acesso ao sysconfig "),D=["href"];function W(e,t,s,o,a,r){const c=(0,i.up)("Response"),u=(0,i.up)("Trace"),p=(0,i.up)("RoundedButton"),d=(0,i.up)("Loading"),g=(0,i.up)("Popup");return(0,i.wg)(),(0,i.iD)("div",k,[(0,i.Wm)(c,{ref:"response"},null,512),y,(0,i._)("div",null,[(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{type:"text",name:"user",placeholder:"Usuário",class:"login__input","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),autocomplete:"off"},null,512),[[n.nr,a.username]]),(0,i.Wm)(u),(0,i.wy)((0,i._)("input",{type:"password",name:"password",placeholder:"Senha",class:"login__input","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),autocomplete:"off"},null,512),[[n.nr,a.password]])]),(0,i.Wm)(p,{onClick:r.submit,"is-loading":a.loading},null,8,["onClick","is-loading"])]),"true"==this.awaitConnection?((0,i.wg)(),(0,i.j4)(g,{key:0,title:"Conectando à rede",type:"now","can-close":!1},{content:(0,i.w5)((()=>[0!=a.awaitConnectionCounter?((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("span",null,"Por favor, aguarde... "+(0,l.zw)(a.awaitConnectionCounter),1),(0,i.Wm)(d)])):((0,i.wg)(),(0,i.iD)("div",S,[R,(0,i._)("a",{href:"https://"+a.currentDomain+":3270/sysconfig",target:"_blank",class:"login__new-link"},(0,l.zw)("https://"+a.currentDomain+":3270/sysconfig"),9,D)]))])),_:1})):(0,i.kq)("",!0)])}function $(e,t,s,n,o,a){const r=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["rounded-button-container","left"===s.direction?"is-left":"is-right"])},[(0,i._)("button",{class:(0,l.C_)(["rounded-button u-total-center",s.isLoading?"is-loading":""])},[s.isLoading?((0,i.wg)(),(0,i.j4)(r,{key:0,class:(0,l.C_)("rounded-button__loading")})):(0,i.kq)("",!0)],2)],2)}const I={class:"loading"};function L(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",I)}const q={name:"Loading",props:{mainColor:String,asideColor:String,ratio:String,borderWidth:String},data(){return{asideColorStyle:null==this.asideColor?"var(--pallete-color-black-3)":this.asideColor,mainColorStyle:null==this.mainColor?"var(--pallete-color-main-2)":this.mainColor,ratioStyle:null==this.ratio?"30px":this.ratio+"px",borderWidthStyle:null==this.borderWidth?"4px":this.borderWidth+"px"}}},N=()=>{(0,n.sj)((e=>({"5125fcda":e.borderWidthStyle,"5392cb03":e.asideColorStyle,"3a625f6a":e.mainColorStyle,f65b1aae:e.ratioStyle})))},U=q.setup;q.setup=U?(e,t)=>(N(),U(e,t)):N;var O=q;const E=(0,d.Z)(O,[["render",L],["__scopeId","data-v-ed8205a0"]]);var M=E,x={name:"RoundedButton",components:{Loading:M},props:{direction:String,isLoading:Boolean},mounted(){this.$el.parentElement.style.position="relative"}};const j=(0,d.Z)(x,[["render",$],["__scopeId","data-v-3959b114"]]);var A=j,P=s(2482),z=s(6265),B=s.n(z);class F{static setTitle(e){document.title=e+this.TITLE_SUFFIX}static async isLogged(){return B().get("/sysconfig/user/connect")}static async isFirstAccess(){return B().get("/sysconfig/user/first-access")}}function T(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["trace",["entire"===s.state?"is-entire":"","vertical"==s.type?"is-vertical":""]])},null,2)}(0,P.Z)(F,"TITLE_SUFFIX"," - sysconfig");var Z={name:"Trace",props:{state:String,type:String}};const V=(0,d.Z)(Z,[["render",T]]);var G=V;const H={class:"pop-up-background u-total-center"},K={class:"c-base-container pop-up u-column u-gap-2"},Y={class:"u-row u-align-i-center u-justify-i-between"},X={class:"pop-up__title"},J={class:"u-row u-gap-3 u-justify-i-end"};function Q(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{style:(0,l.j5)("now"!==s.type?{display:"none"}:"")},[(0,i._)("div",H,[(0,i._)("div",K,[(0,i._)("div",Y,[(0,i._)("span",X,(0,l.zw)(s.title),1),s.canClose?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"pop-up__close-action",onClick:t[0]||(t[0]=(...e)=>a.close&&a.close(...e))})):(0,i.kq)("",!0)]),(0,i.WI)(e.$slots,"content",{},void 0,!0),(0,i._)("div",J,[(0,i.WI)(e.$slots,"action",{},void 0,!0)])])])],4)}var ee={name:"Popup",props:{title:String,type:String,for:String,canClose:{type:Boolean,default:!0}},data(){return{triggerElement:null}},methods:{close(){this.$el.style.display="none";try{this.triggerElement.appendChild(this.$el)}catch(e){this.$el.remove()}}},mounted(){this.triggerElement=document.querySelector(`.${this.for}`),null!=this.triggerElement&&(this.triggerElement.appendChild(this.$el),this.triggerElement.onclick=()=>{this.$el.style.display="block",document.body.appendChild(this.$el)})}};const te=(0,d.Z)(ee,[["render",Q],["__scopeId","data-v-1418e44e"]]);var se=te,ne={name:"Login",components:{Loading:M,Popup:se,Trace:G,RoundedButton:A},data(){return{username:"",password:"",loading:!1,keyPressListener:null,awaitConnection:"false",awaitConnectionCounter:5,currentDomain:""}},setup(){F.setTitle("Entrar")},beforeUnmount(){document.removeEventListener("keypress",this.keyPressListener)},mounted(){this.awaitConnection=localStorage.getItem("connecting"),"true"===this.awaitConnection&&B().get("/sysconfig/network/domain/status").then((e=>{this.currentDomain=e.data.domain,B().post("/sysconfig/user/disconnect");let t=setInterval((()=>{this.awaitConnectionCounter--,0==this.awaitConnectionCounter&&(localStorage.setItem("connecting","false"),clearInterval(t))}),1e3)})),this.keyPressListener=e=>{13===e.which&&this.submit()},document.addEventListener("keypress",this.keyPressListener)},methods:{submit(){0!==this.username.length&&0!==this.password.length?(this.loading=!0,B().post("/sysconfig/user/connect",{username:this.username,password:this.password}).then((e=>{!0===e.data?F.isFirstAccess().then((e=>{!0===Boolean(e.data)?Cs.push("/domain"):Cs.push("/manager")})):(this.loading=!1,this.$root.message({content:"Não foi possível conectar ao sistema",type:c.ERROR}))})).catch((()=>{this.loading=!1}))):this.$root.message({content:"O usuário e/ou a senha não podem ser vazios",type:c.ERROR})}}};const ie=(0,d.Z)(ne,[["render",W],["__scopeId","data-v-477b6aea"]]);var oe=ie,ae=s(8029),re=s(6054),ce=s(8213),le=s(3516),ue=s(2129);const pe=e=>((0,i.dD)("data-v-d80d1554"),e=e(),(0,i.Cn)(),e),de={class:"u-column u-align-i-center u-gap-2"},ge=pe((()=>(0,i._)("h2",{class:"connect__message"},"Conecte à uma rede wifi para acesso à internet",-1))),me={class:"u-row u-gap-3 u-justify-i-center"},he={class:"u-column u-gap-3"},fe={class:"u-row u-gap-2 u-align-i-center"},we=(0,i.Uk)(" Criar rede "),ve={class:"u-column u-gap-3"},_e={class:"u-row u-gap-2 u-align-i-center"},ke=(0,i.Uk)(" Conectar à rede "),ye=(0,i.Uk)(" Conectar manualmente "),be=(0,i.Uk)(" Criar rede própria (AP) "),Ce=(0,i.Uk)(" Atualizar "),Se={key:1,class:"is-aside is-big"},Re={key:2,class:"networks u-column u-align-i-center u-gap-3"},De={key:0,class:"is-aside is-big"},We={class:"u-row u-gap-2 u-align-i-center"},$e={style:{position:"relative"}},Ie={key:0,class:"network__quality-indicator",src:ae},Le={key:1,class:"network__quality-indicator",src:re},qe={key:2,class:"network__quality-indicator",src:ce},Ne={key:3,class:"network__quality-indicator",src:le},Ue={key:4,class:"network__lock",src:ue},Oe={class:"network__essid"},Ee={key:0,class:"network__connected is-bold"},Me={class:"u-column u-gap-3"},xe={class:"u-row u-gap-2 u-align-i-center"},je=(0,i.Uk)(" Conectar à rede "),Ae=(0,i.Uk)(" Voltar para gerenciador ");function Pe(e,t,s,o,a,r){const c=(0,i.up)("Input"),u=(0,i.up)("Button"),p=(0,i.up)("Popup"),d=(0,i.up)("Loading"),g=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",de,[ge,(0,i._)("div",me,[(0,i.Wm)(p,{title:"Levantar uma rede própria AP",for:"network-customized",ref:"customized-network-pop-up"},{content:(0,i.w5)((()=>[(0,i._)("div",he,[(0,i.Wm)(c,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"customized-network-essid-input"},null,512),(0,i.Wm)(c,{placeholder:"Senha da rede (Mínimo 8 caracteres)",type:"password",name:"password",ref:"customized-network-password-input"},null,512)])])),action:(0,i.w5)((()=>[(0,i._)("div",fe,[(0,i.Wm)(u,{onClick:r.createNetwork,"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[we])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,i.Wm)(p,{title:"Conectar manualmente",for:"network-manual",ref:"manual-network-pop-up"},{content:(0,i.w5)((()=>[(0,i._)("div",ve,[(0,i.Wm)(c,{placeholder:"Nome da rede (SSID)",type:"text",name:"essid",ref:"manual-network-essid-input"},null,512),(0,i.Wm)(c,{placeholder:"Senha da rede",type:"password",name:"password",ref:"manual-network-password-input"},null,512)])])),action:(0,i.w5)((()=>[(0,i._)("div",_e,[(0,i.Wm)(u,{onClick:r.connectManualNetwork,"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[ke])),_:1},8,["onClick","is-loading"])])])),_:1},512),(0,i.Wm)(u,{class:"network-manual",skin:"transparent"},{content:(0,i.w5)((()=>[ye])),_:1}),(0,i.Wm)(u,{class:"network-customized",skin:"transparent"},{content:(0,i.w5)((()=>[be])),_:1}),(0,i.Wm)(u,{onClick:r.getNetworks,icon:"refresh.svg","icon-ratio":"15.5"},{content:(0,i.w5)((()=>[Ce])),_:1},8,["onClick"])]),a.isSearching?((0,i.wg)(),(0,i.j4)(d,{key:0})):(0,i.kq)("",!0),null==a.networks?((0,i.wg)(),(0,i.iD)("span",Se," Procurando redes disponíveis... ")):((0,i.wg)(),(0,i.iD)("div",Re,[0===a.networks.length?((0,i.wg)(),(0,i.iD)("span",De," Não foram encontradas redes disponíveis ")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.networks,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["c-base-container network u-row u-justify-i-between u-align-i-center","network-"+s]),key:s,onClick:t[0]||(t[0]=e=>a.networkPopUpIsOpen=!0)},[(0,i._)("div",We,[(0,i._)("div",$e,[e.quality<15?((0,i.wg)(),(0,i.iD)("img",Ie)):e.quality<30?((0,i.wg)(),(0,i.iD)("img",Le)):e.quality<65?((0,i.wg)(),(0,i.iD)("img",qe)):((0,i.wg)(),(0,i.iD)("img",Ne)),!0===e.encryption&&null===e.password?((0,i.wg)(),(0,i.iD)("img",Ue)):(0,i.kq)("",!0)]),(0,i._)("span",Oe,(0,l.zw)(e.essid),1)]),a.connectedNetwork.essid==e.essid&&a.connectedNetwork.frequency==e.frequency?((0,i.wg)(),(0,i.iD)("span",Ee," Conectado ")):(0,i.kq)("",!0),(0,i.Wm)(p,{title:"Conectar-se à rede",for:"network-"+s,ref_for:!0,ref:"network"},{content:(0,i.w5)((()=>[(0,i._)("div",Me,[(0,i.Wm)(c,{type:"text",readonly:"true","model-value":e.essid,name:"essid"},null,8,["model-value"]),(0,i.wy)((0,i.Wm)(c,{"model-value":e.password,placeholder:"Senha da rede",type:"password",name:"password"},null,8,["model-value"]),[[n.F8,!0===e.encryption]])])])),action:(0,i.w5)((()=>[(0,i._)("div",xe,[(0,i.Wm)(u,{onClick:e=>r.connectNetwork(s),"is-loading":a.isConnecting},{content:(0,i.w5)((()=>[je])),_:2},1032,["onClick","is-loading"])])])),_:2},1032,["for"])],2)))),128))])),a.isFirstAccess?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(g,{key:3,to:"/manager"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{skin:"navigation"},{content:(0,i.w5)((()=>[Ae])),_:1})])),_:1}))])}const ze={key:0,class:"button-background"},Be=["src"],Fe={key:3};function Te(e,t,n,o,a,r){const c=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)("button",{type:"button",class:(0,l.C_)(["button",[a.skinClasses,"u-row u-align-i-center u-justify-i-center"]])},[null==n.skin?((0,i.wg)(),(0,i.iD)("div",ze)):(0,i.kq)("",!0),n.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:1,ratio:"16","border-width":"3px","aside-color":"rgba(255,255,255,0.2)","main-color":"white"})):null!=n.icon?((0,i.wg)(),(0,i.iD)("img",{key:2,src:s(4325)(`./${n.icon}`),class:"button__icon"},null,8,Be)):(0,i.kq)("",!0),null!=e.$slots.content?((0,i.wg)(),(0,i.iD)("span",Fe,[(0,i.WI)(e.$slots,"content",{},void 0,!0)])):(0,i.kq)("",!0)],2)}const Ze={name:"Button",components:{Loading:M},props:{skin:String,icon:String,iconRatio:String,color:String,border:String,isLoading:Boolean},data(){return{iconRatioStyle:null!=this.iconRatio?this.iconRatio+"px":"15px",skinClasses:this.mountSkinClasses(),colorStyle:null==this.color?"var(--pallete-color-main-1)":this.color}},methods:{mountSkinClasses(){let e;return e="transparent"===this.skin?"is-transparent":"underlined"===this.skin?"is-underlined":"navigation"===this.skin?"is-navigation":"is-filled",null!=this.icon&&(null!=this.$slots.content?e+=" has-icon":e+=" is-icon"),"rounded"===this.border&&(e+=" is-rounded"),e}}},Ve=()=>{(0,n.sj)((e=>({"0c31e69e":e.iconRatioStyle,dd7e9000:e.colorStyle})))},Ge=Ze.setup;Ze.setup=Ge?(e,t)=>(Ve(),Ge(e,t)):Ve;var He=Ze;const Ke=(0,d.Z)(He,[["render",Te],["__scopeId","data-v-29a9ba86"]]);var Ye=Ke;const Xe=["readonly","value","type","name","placeholder"],Je={key:1,class:"input__file-label u-total-center"},Qe=["name","accept"],et={class:"input__file-label__fileName"};function tt(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["u-row u-gap-3 input u-cover",["true"===s.readonly?"ready-only":"","file"===s.type?"is-file":""]])},["file"!==s.type?((0,i.wg)(),(0,i.iD)("input",{key:0,readonly:s.readonly,value:s.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),type:s.type,name:s.name,placeholder:s.placeholder,class:"u-cover",ref:"input",autocomplete:"off"},null,40,Xe)):((0,i.wg)(),(0,i.iD)("label",Je,[(0,i._)("input",{type:"file",name:s.name,onChange:t[1]||(t[1]=e=>a.mountFileName(e)),ref:"input",accept:s.accept},null,40,Qe),(0,i._)("span",et,(0,l.zw)(o.fileName),1)]))],2)}var st={name:"Input",props:{name:String,type:String,placeholder:String,readonly:String,modelValue:String,accept:String},data(){return{fileName:"Importar arquivo..."}},methods:{mountFileName(e){let t=e.target.value;0===t.length?this.fileName="Importar arquivo...":this.fileName=t.replace("C:\\fakepath\\","")}}};const nt=(0,d.Z)(st,[["render",tt],["__scopeId","data-v-6a69fec2"]]);var it=nt,ot={name:"Connect",components:{Loading:M,Input:it,Popup:se,Button:Ye},data(){return{networks:null,connectResponse:null,isSearching:!0,networkPopUpIsOpen:!1,connectedNetwork:null,isConnecting:!1,isFirstAccess:!1}},mounted(){F.isFirstAccess().then((e=>{this.isFirstAccess=e.data})),B().get("/sysconfig/network/status").then((e=>{this.connectedNetwork=e.data})),this.getNetworks()},setup(){F.isLogged().then((e=>{!1===e&&Cs.push("/")})),F.setTitle("Conectar")},methods:{getNetworks(){this.isSearching=!0,B().get("/sysconfig/networks").then((e=>{this.networks=e.data,this.isSearching=!1}))},createNetwork(){let e=this.$refs["customized-network-essid-input"].$refs.input.value,t=this.$refs["customized-network-password-input"].$refs.input.value;t.length<8?this.$root.message({content:"A senha da rede precisa ser igual ou mais que 8 caracteres",type:c.ERROR}):(this.isConnecting=!0,B().post("/sysconfig/network/connect/ap",{essid:e,password:t}).then((()=>{this.isConnecting=!1,this.$refs["customized-network-pop-up"].close(),localStorage.setItem("connecting","true"),Cs.push("/")})))},connectNetwork(e){let t=this.$refs["network"][e].$el.querySelector("input[name='essid']").value,s=this.$refs["network"][e].$el.querySelector("input[name='password']").value;this.isConnecting=!0,B().post("/sysconfig/network/connect/client",{essid:t,password:s}).then((()=>{this.isConnecting=!1,this.$refs["network"][e].close(),localStorage.setItem("connecting","true"),Cs.push("/")}))},connectManualNetwork(){let e=this.$refs["manual-network-essid-input"].$refs.input.value,t=this.$refs["manual-network-password-input"].$refs.input.value;this.isConnecting=!0,B().post("/sysconfig/network/connect/client",{essid:e,password:t}).then((()=>{this.isConnecting=!1,this.$refs["manual-network-pop-up"].close(),localStorage.setItem("connecting","true"),Cs.push("/")}))}}};const at=(0,d.Z)(ot,[["render",Pe],["__scopeId","data-v-d80d1554"]]);var rt=at;const ct=e=>((0,i.dD)("data-v-1ccfe84a"),e=e(),(0,i.Cn)(),e),lt={class:"manager u-column u-gap-2"},ut={class:"manager__compiled-response is-small"},pt={class:"manager__header u-row u-align-i-center u-justify-i-between"},dt={class:"u-row u-gap-2 u-align-i-center"},gt=ct((()=>(0,i._)("h1",{class:"manager__header__title u-column u-align-i-center u-gap-2"},[(0,i._)("span",{class:"u-row u-gap-3 u-align-i-center"},[(0,i._)("a",{href:"http://chonos.sf.net/",target:"_blank",class:"manager__header__title__chonos is-bold"},"chonos"),(0,i._)("span",{class:"is-aside is-light"},"sysconfig")])],-1))),mt={class:"u-row u-gap-3"},ht=(0,i.Uk)(" Nome do bot "),ft=(0,i.Uk)(" Redes "),wt=["href"],vt=(0,i.Uk)(" Logs do SMA "),_t={class:"u-row u-gap-2"},kt={class:"u-row u-gap-3"},yt=(0,i.Uk)(" Iniciar SMA "),bt=(0,i.Uk)(" Parar SMA "),Ct=(0,i.Uk)(" Importar SMA "),St={class:"u-row u-gap-2"},Rt=(0,i.Uk)(" Importar "),Dt={class:"u-row u-gap-3"},Wt={class:"manager__main u-row u-gap-2 u-justify-i-center"},$t={class:"manager__boards u-column u-gap-2"},It={class:"u-row u-align-i-center u-justify-i-between"},Lt=ct((()=>(0,i._)("h2",{class:"is-huge"},"Placas",-1))),qt={key:1,class:"manager__boards__list"},Nt={key:0,class:"is-big is-aside"},Ut={class:"u-row u-gap-3 u-align-i-center"},Ot={class:"is-big is-bold"},Et={class:"manager__board__indicator is-small"},Mt={class:"u-column u-gap-3"},xt={class:"u-row u-gap-3 u-align-i-center"},jt=ct((()=>(0,i._)("span",{class:"manager__board__indicator is-small"},"Núcleo",-1))),At={class:"manager__board__value"},Pt={class:"u-row u-gap-3 u-align-i-center"},zt=ct((()=>(0,i._)("span",{class:"manager__board__indicator is-small"},"Porta",-1))),Bt={class:"manager__board__value"},Ft={class:"u-row u-gap-3 u-align-s-end u-align-i-center"},Tt=(0,i.Uk)(" Deploy "),Zt=(0,i.Uk)(" Compilar "),Vt={class:"u-row u-gap-2"},Gt=(0,i.Uk)(" Compilar "),Ht={class:"manager__libraries u-column u-gap-2"},Kt={class:"u-row u-align-i-center u-justify-i-between"},Yt=ct((()=>(0,i._)("h2",{class:"is-huge"},"Bibliotecas",-1))),Xt={class:"u-row u-gap-3"},Jt={class:"u-row u-gap-2"},Qt=(0,i.Uk)(" Importar "),es={key:1,class:"manager__libraries__list u-column u-gap-3"},ts={key:0,class:"is-big is-aside"};function ss(e,t,s,n,o,a){const r=(0,i.up)("Popup"),c=(0,i.up)("Button"),u=(0,i.up)("router-link"),p=(0,i.up)("Input"),d=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)("div",lt,[null!=o.boardResponse?((0,i.wg)(),(0,i.j4)(r,{key:0,title:"Resultado",type:"now"},{content:(0,i.w5)((()=>[(0,i._)("div",ut,(0,l.zw)(o.boardResponse),1)])),_:1})):(0,i.kq)("",!0),(0,i._)("header",pt,[(0,i._)("div",dt,[gt,(0,i._)("div",mt,[(0,i.Wm)(u,{to:"/domain"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{skin:"navigation",icon:"domain.svg"},{content:(0,i.w5)((()=>[ht])),_:1})])),_:1}),(0,i.Wm)(u,{to:"/connect"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{skin:"navigation",icon:"wifi-quality-4.svg","icon-ratio":"16"},{content:(0,i.w5)((()=>[ft])),_:1})])),_:1}),(0,i._)("a",{href:"http://"+this.currentDomain+":3271",target:"_blank"},[(0,i.Wm)(c,{skin:"navigation"},{content:(0,i.w5)((()=>[vt])),_:1})],8,wt)])]),(0,i._)("div",_t,[(0,i._)("div",kt,[(0,i.Wm)(c,{skin:"transparent",icon:"start.svg","is-loading":o.isStartingMas,onClick:a.startMas},{content:(0,i.w5)((()=>[yt])),_:1},8,["is-loading","onClick"]),(0,i.Wm)(c,{skin:"transparent",icon:"stop.svg","icon-ratio":"14","is-loading":o.isStopingMas,onClick:a.stopMas},{content:(0,i.w5)((()=>[bt])),_:1},8,["is-loading","onClick"]),(0,i.Wm)(c,{icon:"upload.svg",class:"import-mas","is-loading":o.isImportingMas},{content:(0,i.w5)((()=>[Ct])),_:1},8,["is-loading"]),(0,i.Wm)(r,{title:"Importar SMA",for:"import-mas",ref:"pop-up-import-mas"},{content:(0,i.w5)((()=>[(0,i._)("div",St,[(0,i.Wm)(p,{type:"file",ref:"mas-file-input"},null,512)])])),action:(0,i.w5)((()=>[(0,i.Wm)(c,{onClick:a.importMas,icon:"upload.svg"},{content:(0,i.w5)((()=>[Rt])),_:1},8,["onClick"])])),_:1},512)]),(0,i._)("div",Dt,[(0,i.Wm)(c,{icon:"turn-off.svg",skin:"transparent",border:"rounded",onClick:a.turnOff,"icon-ratio":"16"},null,8,["onClick"]),(0,i.Wm)(c,{icon:"reset.svg",skin:"transparent",border:"rounded",onClick:a.reset,"icon-ratio":"16"},null,8,["onClick"]),(0,i.Wm)(c,{icon:"logout.svg",skin:"transparent",border:"rounded",onClick:a.logout,"icon-ratio":"16"},null,8,["onClick"])])])]),(0,i._)("main",Wt,[(0,i._)("div",$t,[(0,i._)("div",It,[Lt,(0,i.Wm)(c,{icon:"refresh.svg",skin:"transparent",border:"rounded",onClick:a.refreshBoards},null,8,["onClick"])]),o.isSearchingBoards?((0,i.wg)(),(0,i.j4)(d,{key:0,class:(0,l.C_)("manager__loading")})):((0,i.wg)(),(0,i.iD)("div",qt,[0===o.boards.length?((0,i.wg)(),(0,i.iD)("span",Nt,"Não foram detectadas placas")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.boards,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"c-base-container manager__board u-column u-gap-2 u-justify-i-between",key:s},[(0,i._)("div",Ut,[(0,i._)("span",Ot,(0,l.zw)(e.board),1),(0,i._)("span",Et,(0,l.zw)(e.fqbn),1)]),(0,i._)("div",Mt,[(0,i._)("span",xt,[jt,(0,i._)("span",At,(0,l.zw)(e.core),1)]),(0,i._)("span",Pt,[zt,(0,i._)("span",Bt,(0,l.zw)(e.port),1)])]),(0,i._)("div",Ft,[(0,i.Wm)(c,{color:"var(--pallete-color-green-1)",icon:"white-circle.svg","icon-ratio":"16",onClick:t=>a.deploy(e.port,e.fqbn),"is-loading":o.isDeploying},{content:(0,i.w5)((()=>[Tt])),_:2},1032,["onClick","is-loading"]),(0,i.Wm)(c,{icon:"upload.svg",class:(0,l.C_)(["","board-"+s]),onClick:t[0]||(t[0]=e=>o.boardPopUpIsOpen=!0),"is-loading":o.isCompiling},{content:(0,i.w5)((()=>[Zt])),_:2},1032,["class","is-loading"])]),(0,i.Wm)(r,{title:"Compilar firmware",for:"board-"+s},{content:(0,i.w5)((()=>[(0,i._)("div",Vt,[(0,i.Wm)(p,{type:"file",ref_for:!0,ref:"board-file-input",accept:".ino"},null,512)])])),action:(0,i.w5)((()=>[(0,i.Wm)(c,{onClick:t=>a.compile(s,e.fqbn),icon:"upload.svg"},{content:(0,i.w5)((()=>[Gt])),_:2},1032,["onClick"])])),_:2},1032,["for"])])))),128))]))]),(0,i._)("div",Ht,[(0,i._)("div",Kt,[Yt,(0,i._)("div",Xt,[(0,i.Wm)(c,{icon:"upload.svg",skin:"transparent",border:"rounded",class:"upload-library"}),(0,i.Wm)(c,{icon:"refresh.svg",skin:"transparent",border:"rounded",onClick:a.refreshLibraries},null,8,["onClick"]),(0,i.Wm)(r,{title:"Importar biblioteca",for:"upload-library",ref:"pop-up-import-library"},{content:(0,i.w5)((()=>[(0,i._)("div",Jt,[(0,i.Wm)(p,{type:"file",ref:"upload-library-input",accept:".zip"},null,512)])])),action:(0,i.w5)((()=>[(0,i.Wm)(c,{onClick:a.uploadLibrary,icon:"upload.svg"},{content:(0,i.w5)((()=>[Qt])),_:1},8,["onClick"])])),_:1},512)])]),o.isSearchingLibraries?((0,i.wg)(),(0,i.j4)(d,{key:0,class:(0,l.C_)("manager__loading")})):((0,i.wg)(),(0,i.iD)("div",es,[0===o.libraries.length?((0,i.wg)(),(0,i.iD)("span",ts,"Não foram detectadas bibliotecas")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.libraries,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{class:"manager__library",key:t},(0,l.zw)(e.name),1)))),128))]))])])])}var ns={name:"Manager",components:{Input:it,Popup:se,Loading:M,Button:Ye},data(){return{boards:[],libraries:[],boardPopUpIsOpen:!1,isSearchingBoards:!0,isSearchingLibraries:!0,isCompiling:!1,isDeploying:!1,isImportingMas:!1,isStartingMas:!1,isStopingMas:!1,boardResponse:null,currentDomain:""}},setup(){F.isLogged().then((e=>{0==e.data&&Cs.push("/")})),F.setTitle("Gerenciador")},mounted(){F.isFirstAccess().then((e=>{console.log(e),1==e.data?Cs.push("/"):(console.log("entrei"),B().get("/sysconfig/network/domain/status").then((e=>{console.log(e),this.currentDomain=e.data.domain})))})),this.getBoards(),this.getLibraries()},methods:{turnOff(){this.$root.message({content:"Desligando sistema",type:c.WARNING}),B().post("/sysconfig/system/poweroff"),setTimeout((()=>{Cs.push("/")}),2e3)},reset(){this.$root.message({content:"Reiniciando sistema",type:c.WARNING}),B().post("/sysconfig/system/reboot"),setTimeout((()=>{Cs.push("/")}),2e3)},logout(){B().post("/sysconfig/user/disconnect"),Cs.push("/")},uploadLibrary(){let e=this.$refs["upload-library-input"].$refs.input;if(0===e.value.length||0===e.files.length)return void this.$root.message({content:"Você precisa selecionar um arquivo para importar",type:c.ERROR});let t=new FormData;t.append("file",e.files[0]),this.$refs["pop-up-import-library"].close(),this.isSearchingLibraries=!0,B().post("/sysconfig/library/import",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{!1!==e.data?this.getLibraries():this.$root.message({content:"Não foi possível importar essa biblioteca. Confira seu formato e validade",type:c.ERROR})}))},startMas(){this.isStartingMas=!0,B().post("/sysconfig/mas/start").then((e=>{null!=e.data||0!=e.data.length?this.$root.message({content:e.data.message,type:c.SUCCESS}):this.$root.message({content:"SMA já foi iniciado",type:c.WARNING}),this.isStartingMas=!1})).catch((()=>{this.isStartingMas=!1}))},stopMas(){this.isStopingMas=!0,B().post("/sysconfig/mas/stop").then((e=>{null!=e.data||0!=e.data.length?this.$root.message({content:e.data,type:c.SUCCESS}):this.$root.message({content:"SMA já está parado",type:c.WARNING}),this.isStopingMas=!1})).catch((()=>{this.isStopingMas=!1}))},importMas(){let e=this.$refs["mas-file-input"].$refs.input;if(0===e.value.length||0===e.files.length)return void this.$root.message({content:"Você precisa selecionar um arquivo para importar",type:c.ERROR});let t=new FormData;t.append("file",e.files[0]),this.$refs["pop-up-import-mas"].close(),this.isImportingMas=!0,B().post("/sysconfig/mas/import",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.boardResponse=e.data,this.isImportingMas=!1}))},deploy(e,t){this.isDeploying=!0,B().post("/sysconfig/sketch/deploy",{},{params:{boardName:t,serialPort:e}}).then((e=>{this.isDeploying=!1,this.boardResponse=e.data,this.$root.message({content:"Arquivo carregado com sucesso!",type:c.SUCCESS})}))},compile(e,t){let s=this.$refs["board-file-input"][e].$refs.input;if(0===s.value.length||0===s.files.length)return void this.$root.message({content:"Você precisa selecionar um arquivo para compilar",type:c.ERROR});let n=new FormData;n.append("file",s.files[0]),n.append("boardName",t),this.isCompiling=!0,B().post("/sysconfig/sketch/compile",n,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{null!==e?(this.isCompiling=!1,this.boardResponse=e.data,this.$root.message({content:"Arquivo compilado com sucesso",type:c.SUCCESS})):this.$root.message({content:"Não foi possível compilar o arquivo",type:c.ERROR})}))},refreshBoards(){this.isSearchingBoards=!0,this.getBoards()},getBoards(){B().get("/sysconfig/boards").then((e=>{this.boards=e.data,this.isSearchingBoards=!1})).catch((()=>{this.isSearchingBoards=!1}))},refreshLibraries(){this.isSearchingLibraries=!0,this.getLibraries()},getLibraries(){B().get("/sysconfig/libraries").then((e=>{this.libraries=e.data,this.isSearchingLibraries=!1})).catch((e=>{this.isSearchingLibraries=!1}))}}};const is=(0,d.Z)(ns,[["render",ss],["__scopeId","data-v-1ccfe84a"]]);var os=is;const as=e=>((0,i.dD)("data-v-e8b7523a"),e=e(),(0,i.Cn)(),e),rs={class:"u-column u-gap-1 u-align-i-center"},cs=["href"],ls={class:"u-column u-gap-3 u-align-i-center"},us=as((()=>(0,i._)("h2",{class:"is-huge"},"Informe o nome do seu bot",-1))),ps={class:"is-aside"},ds=(0,i.Uk)(" Através desse nome, você será capaz de acessar o sysconfig via: "),gs={key:0,class:"is-bold"},ms={class:"u-column u-align-i-center u-gap-2"},hs=(0,i.Uk)(" Salvar nome "),fs=(0,i.Uk)(" Voltar para gerenciador ");function ws(e,t,s,o,a,r){const c=(0,i.up)("Popup"),u=(0,i.up)("Button"),p=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",rs,[a.showUrl?((0,i.wg)(),(0,i.j4)(c,{key:0,title:"URL de acesso seu sistema",type:"now"},{content:(0,i.w5)((()=>[(0,i._)("a",{href:"https://"+a.domain+".bot.chon.group:3270/sysconfig",target:"_blank",class:"domain__url is-huge"},(0,l.zw)(a.domain)+".bot.chon.group:3270/sysconfig",9,cs)])),_:1})):(0,i.kq)("",!0),(0,i._)("div",ls,[us,(0,i._)("span",ps,[ds,""!==a.domain?((0,i.wg)(),(0,i.iD)("span",gs,(0,l.zw)(a.domain)+".bot.chon.group:3270/sysconfig ",1)):(0,i.kq)("",!0)])]),(0,i._)("div",ms,[(0,i.wy)((0,i._)("input",{type:"text",class:"c-base-container domain-input is-huge","onUpdate:modelValue":t[0]||(t[0]=e=>a.domain=e),placeholder:"Nome do bot",maxlength:"30"},null,512),[[n.nr,a.domain]]),(0,i.Wm)(u,{onClick:r.submit,isLoading:a.loading},{content:(0,i.w5)((()=>[hs])),_:1},8,["onClick","isLoading"])]),a.isFirstAccess?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:1,to:"/manager"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{skin:"navigation"},{content:(0,i.w5)((()=>[fs])),_:1})])),_:1}))])}var vs={name:"Domain",components:{Popup:se,Button:Ye},data(){return{domain:"",showUrl:!1,loading:!1,isFirstAccess:!1}},watch:{domain(e){this.domain=e.replace(" ","").toLowerCase()}},setup(){F.isLogged().then((e=>{0==e.data&&Cs.push("/")})),F.setTitle("Nome do bot")},mounted(){F.isFirstAccess().then((e=>{this.isFirstAccess=Boolean(e.data)}))},methods:{submit(){""!==this.domain&&0!==this.domain.length?(this.loading=!0,B().post("/sysconfig/network/domain",{},{params:{domain:this.domain}}).then((()=>{this.$root.message({content:"O nome do seu bot foi salvo com sucesso",type:c.SUCCESS}),Cs.push("/connect")}))):this.$root.message({content:"O nome não pode ser vazio",type:c.ERROR})}}};const _s=(0,d.Z)(vs,[["render",ws],["__scopeId","data-v-e8b7523a"]]);var ks=_s;const ys=[{path:"/",name:"Login",component:oe},{path:"/connect",name:"Connect",component:rt},{path:"/manager",name:"Manager",component:os},{path:"/domain",name:"Domain",component:ks}],bs=(0,v.p7)({history:(0,v.PO)("/sysconfig/"),routes:ys});var Cs=bs;(0,n.ri)(w).use(Cs).mount("#app")},4325:function(e,t,s){var n={"./back-action.svg":5672,"./close-action.svg":1584,"./domain.svg":1405,"./loading.svg":1020,"./lock.svg":2129,"./logout.svg":752,"./ok-action.svg":4743,"./refresh.svg":1250,"./reset.svg":6506,"./start.svg":1464,"./stop.svg":3456,"./turn-off.svg":3972,"./upload.svg":9202,"./white-circle.svg":8037,"./wifi-quality-1.svg":8029,"./wifi-quality-2.svg":6054,"./wifi-quality-3.svg":8213,"./wifi-quality-4.svg":3516};function i(e){var t=o(e);return s(t)}function o(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=4325},5672:function(e,t,s){"use strict";e.exports=s.p+"img/back-action.4ba354a6.svg"},1584:function(e,t,s){"use strict";e.exports=s.p+"img/close-action.c379b4a1.svg"},1405:function(e,t,s){"use strict";e.exports=s.p+"img/domain.11ce1c66.svg"},1020:function(e,t,s){"use strict";e.exports=s.p+"img/loading.eb689ca3.svg"},2129:function(e,t,s){"use strict";e.exports=s.p+"img/lock.4dd72288.svg"},752:function(e,t,s){"use strict";e.exports=s.p+"img/logout.8e895b99.svg"},4743:function(e,t,s){"use strict";e.exports=s.p+"img/ok-action.34199290.svg"},1250:function(e,t,s){"use strict";e.exports=s.p+"img/refresh.d048ae87.svg"},6506:function(e,t,s){"use strict";e.exports=s.p+"img/reset.4a47c07c.svg"},1464:function(e,t,s){"use strict";e.exports=s.p+"img/start.7e405147.svg"},3456:function(e,t,s){"use strict";e.exports=s.p+"img/stop.30acb7af.svg"},3972:function(e,t,s){"use strict";e.exports=s.p+"img/turn-off.93bfdf69.svg"},9202:function(e,t,s){"use strict";e.exports=s.p+"img/upload.2e465c85.svg"},8037:function(e,t,s){"use strict";e.exports=s.p+"img/white-circle.81dbaecf.svg"},8029:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-1.0a773bc1.svg"},6054:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-2.55b49fe1.svg"},8213:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-3.521eb2b2.svg"},3516:function(e,t,s){"use strict";e.exports=s.p+"img/wifi-quality-4.11682555.svg"}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/sysconfig/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var u=c(s)}for(t&&t(n);l<a.length;l++)o=a[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkui"]=self["webpackChunkui"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(4896)}));n=s.O(n)})();
//# sourceMappingURL=app.e673b941.js.map